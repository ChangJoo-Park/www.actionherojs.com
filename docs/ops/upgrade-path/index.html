<!DOCTYPE html><html><head><link rel="preload" href="/_next/e702224b-024f-4339-82ea-8c2023a92317/page/docs/ops/upgrade-path/index.js" as="script"/><link rel="preload" href="/_next/e702224b-024f-4339-82ea-8c2023a92317/page/_error/index.js" as="script"/><link rel="preload" href="/_next/517642acd6437ad7e589c92138f402c3/app.js" as="script"/><meta charset="utf-8" class="next-head"/><link rel="apple-touch-icon" sizes="57x57" href="/static/images/icons/apple-icon-57x57.png" class="next-head"/><link rel="apple-touch-icon" sizes="60x60" href="/static/images/icons/apple-icon-60x60.png" class="next-head"/><link rel="apple-touch-icon" sizes="72x72" href="/static/images/icons/apple-icon-72x72.png" class="next-head"/><link rel="apple-touch-icon" sizes="76x76" href="/static/images/icons/apple-icon-76x76.png" class="next-head"/><link rel="apple-touch-icon" sizes="114x114" href="/static/images/icons/apple-icon-114x114.png" class="next-head"/><link rel="apple-touch-icon" sizes="120x120" href="/static/images/icons/apple-icon-120x120.png" class="next-head"/><link rel="apple-touch-icon" sizes="144x144" href="/static/images/icons/apple-icon-144x144.png" class="next-head"/><link rel="apple-touch-icon" sizes="152x152" href="/static/images/icons/apple-icon-152x152.png" class="next-head"/><link rel="apple-touch-icon" sizes="180x180" href="/static/images/icons/apple-icon-180x180.png" class="next-head"/><link rel="icon" type="image/png" sizes="192x192" href="/static/images/icons/android-icon-192x192.png" class="next-head"/><link rel="icon" type="image/png" sizes="32x32" href="/static/images/icons/favicon-32x32.png" class="next-head"/><link rel="icon" type="image/png" sizes="96x96" href="/static/images/icons/favicon-96x96.png" class="next-head"/><link rel="icon" type="image/png" sizes="16x16" href="/static/images/icons/favicon-16x16.png" class="next-head"/><meta name="viewport" content="width=device-width" class="next-head"/><link rel="stylesheet" type="text/css" href="/static/css/bootstrap.min.css" class="next-head"/><link rel="stylesheet" type="text/css" href="/static/css/bebasNeue.css" class="next-head"/><link rel="stylesheet" type="text/css" href="/static/css/animations.css" class="next-head"/><link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700,800|Roboto:100,300,400,500,700,900" rel="stylesheet" class="next-head"/><title class="next-head">ActionHero</title><script src="/static/js/googleAnalytics.js" class="next-head"></script><link rel="stylesheet" href="https://unpkg.com/react-instantsearch-theme-algolia@4.0.0/style.min.css" class="next-head"/></head><body><div><div id="__next"><div data-reactroot="" data-reactid="1" data-react-checksum="1824531795"><div data-reactid="2"><!-- react-empty: 3 --><div style="padding-left:0;padding-right:0;font-family:Roboto, sans-serif;font-size:14px;font-weight:300;" class="container-fluid" data-reactid="4"><header style="background-color:#2F5266;" data-reactid="5"><div class="container" data-reactid="6"><nav style="background-color:#2F5266;padding-top:5px;margin-bottom:10px;border:0;" class="navbar navbar-default" data-reactid="7"><div class="container" data-reactid="8"><div class="navbar-header" data-reactid="9"><a style="padding-top:0;margin-bottom:15px;" class="navbar-brand" data-reactid="10"><img src="/static/images/actionhero-logo-header-wordmark.svg" style="padding-top:14px;padding-bottom:20px;" data-reactid="11"/></a><button type="button" class="navbar-toggle collapsed" data-reactid="12"><span class="sr-only" data-reactid="13">Toggle navigation</span><span class="icon-bar" data-reactid="14"></span><span class="icon-bar" data-reactid="15"></span><span class="icon-bar" data-reactid="16"></span></button></div><div class="navbar-collapse collapse" data-reactid="17"><ul class="nav navbar-nav navbar-right" data-reactid="18"></ul><ul class="hidden-md hidden-sm hidden-xs nav navbar-nav navbar-left" data-reactid="19"><li role="presentation" class="" data-reactid="20"><a role="button" href="#" data-reactid="21"> </a></li><li role="presentation" class="" data-reactid="22"><a role="button" href="#" data-reactid="23"> </a></li><li role="presentation" class="" data-reactid="24"><a role="button" href="#" data-reactid="25"> </a></li><li role="presentation" class="" data-reactid="26"><a role="button" href="#" data-reactid="27"> </a></li></ul><ul class="nav navbar-nav navbar-left" data-reactid="28"><li role="presentation" class="" data-reactid="29"><a role="button" href="#" data-reactid="30"><span style="line-height:3;color:#FFFFFF;padding-bottom:10px;font-weight:300;" data-reactid="31">Downloads</span></a></li><li role="presentation" class="" data-reactid="32"><a role="button" href="#" data-reactid="33"><span style="line-height:3;color:#FFFFFF;padding-bottom:10px;font-weight:300;" data-reactid="34">Documentation</span></a></li><li role="presentation" class="hidden-sm" data-reactid="35"><a role="button" href="#" data-reactid="36"><span style="line-height:3;color:#FFFFFF;padding-bottom:10px;font-weight:300;" data-reactid="37">Solutions</span></a></li><li role="presentation" class="" data-reactid="38"><a role="button" href="#" data-reactid="39"><span style="line-height:3;color:#FFFFFF;padding-bottom:10px;font-weight:300;" data-reactid="40">Community</span></a></li></ul><ul class="nav navbar-nav navbar-right" data-reactid="41"><div data-reactid="42"><a style="text-decoration:none;" href="/get-started/" data-reactid="43"><button style="font-family:Roboto, sans-serif;font-size:14px;max-width:200px;border-radius:50px;margin:0 auto;color:#FFFFFF;background-color:#6E8898;border-color:#6E8898;font-weight:300;margin-top:20px;margin-bottom:0;margin-left:10px;margin-right:10px;outline:none;" type="button" class="btn btn-lg btn-default btn-block" data-reactid="44">Get Started</button></a></div></ul></div></div></nav></div></header></div><div style="padding-left:0;padding-right:0;font-family:Roboto, sans-serif;font-size:14px;font-weight:300;" class="container-fluid" data-reactid="45"><div style="background-color:#FBF9E4;color:#2F5266;font-weight:200;padding:50px;" data-reactid="46"><div class="container" data-reactid="47"><div class="row" data-reactid="48"><div style="text-align:center;" class="col-md-3" data-reactid="49"><img src="/static/images/ops-tools.svg" data-reactid="50"/></div><div style="text-align:center;" class="col-md-6" data-reactid="51"><h1 style="font-family:BebasNeue, Roboto, sans-serif;font-weight:bold;margin-top:20px;margin-bottom:10px;letter-spacing:2px;font-size:36px;" data-reactid="52"><br data-reactid="53"/><!-- react-text: 54 -->Operations: Upgrade Path<!-- /react-text --></h1></div><div class="col-md-3" data-reactid="55"></div></div></div></div><div style="height:183px;background:url(&quot;/static/images/clouds-white.svg&quot;) no-repeat center #FBF9E4;" data-reactid="56"></div><div style="padding-bottom:100px;" class="container" data-reactid="57"><div class="row" data-reactid="58"><div id="_top" data-reactid="59"></div><div id="docPageContent" class="col-md-9" data-reactid="60"><div class="row" data-reactid="61"><div class="col-md-12" data-reactid="62"><div data-reactid="63"><br data-reactid="64"/><h2 id="overview" style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72;" data-reactid="65"><span style="font-weight:300;font-size:36px;" data-reactid="66">Overview</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px;" data-reactid="67"/><div style="font-family:Open Sans, sans-serif;" data-reactid="68"><div data-reactid="69"><p data-reactid="70"><!-- react-text: 71 -->Upgrading big ActionHero projects to a new major might require some effort. Every ActionHero version has it&#x27;s own specific project files which you generate using <!-- /react-text --><code data-reactid="72">actionhero generate</code><!-- react-text: 73 --> command. One of the ways to upgrade your project is to generate a new project using the latest ActionHero framework (<!-- /react-text --><code data-reactid="74">npm install actionhero &amp;&amp; ./node_modules/.bin/actionhero generate</code><!-- react-text: 75 -->). Using that as your starting point you can then carefully copy all your <!-- /react-text --><code data-reactid="76">configs</code><!-- react-text: 77 -->, <!-- /react-text --><code data-reactid="78">initializers</code><!-- react-text: 79 -->, <!-- /react-text --><code data-reactid="80">servers</code><!-- react-text: 81 -->, links and other custom code from your old project, making sure that you are at the same working state as before. It&#x27;s a good practice to make tests for your actions (or any other component) before you plan to upgrade your ActionHero project.<!-- /react-text --></p><p data-reactid="82"><!-- react-text: 83 -->With good <!-- /react-text --><a href="/docs/ops/testing" data-reactid="84">test coverage</a><!-- react-text: 85 --> you can make sure that you have successfully upgraded your project.<!-- /react-text --></p><p data-reactid="86"><!-- react-text: 87 -->ActionHero follows <!-- /react-text --><a href="http://semver.org/" data-reactid="88">semantic versioning</a><!-- react-text: 89 -->.  This means that a minor change is a right-most number.  A new feature added is the middle number, and a breaking change is the left number.  You should expect something in your application to need to be changed if you upgrade a major version.<!-- /react-text --></p></div></div></div><div data-reactid="90"><br data-reactid="91"/><h2 id="v17" style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72;" data-reactid="92"><span style="font-weight:300;font-size:36px;" data-reactid="93">Upgrading from v16 to v17</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px;" data-reactid="94"/><div style="font-family:Open Sans, sans-serif;" data-reactid="95"><div data-reactid="96"><p data-reactid="97"><strong data-reactid="98"><!-- react-text: 99 -->Full Release Notes: <!-- /react-text --><a href="https://github.com/actionhero/actionhero/releases/tag/v17.0.0" data-reactid="100">GitHub</a></strong></p><p data-reactid="101"><strong data-reactid="102">Breaking Changes and How to Overcome Them:</strong></p><ul data-reactid="103"><li data-reactid="104"><strong data-reactid="105">Localization (i18n)</strong></li><ul data-reactid="106"><li data-reactid="107"><!-- react-text: 108 -->In <!-- /react-text --><code data-reactid="109">./config/i18n.js</code><!-- react-text: 110 --> be sure to enable <!-- /react-text --><code data-reactid="111">objectNotation</code><!-- react-text: 112 -->, or else the new locale file will be gibberish to ActionHero<!-- /react-text --></li><li data-reactid="113"><!-- react-text: 114 -->As of this release, ActionHero no longer localizes its log messages.  This is done to simplify and speed up the logger methods.  There is not mitigation path here without overwriting the <!-- /react-text --><code data-reactid="115">api.log()</code><!-- react-text: 116 --> method.<!-- /react-text --></li><ul data-reactid="117"><li data-reactid="118"><!-- react-text: 119 -->Any use of <!-- /react-text --><code data-reactid="120">%</code><!-- react-text: 121 --> interpolation should be removed from your logger strings.  Favor native JS string templates.<!-- /react-text --></li></ul><li data-reactid="122">ActionHero now ships with locale files by default.</li><ul data-reactid="123"><li data-reactid="124"><!-- react-text: 125 -->You will need to acquire the <!-- /react-text --><a href="https://github.com/actionhero/actionhero/blob/master/locales/en.json" data-reactid="126">default locale file</a><!-- react-text: 127 --> and copy it into <!-- /react-text --><code data-reactid="128">./locales/en.json</code><!-- react-text: 129 --> within your project.<!-- /react-text --></li><li data-reactid="130"><!-- react-text: 131 -->The error reporters have all been changed to use these new locale file and mustache-style syntax.  Update your from the <!-- /react-text --><a href="https://github.com/actionhero/actionhero/blob/master/config/errors.js" data-reactid="132">default errors file</a></li><li data-reactid="133"><!-- react-text: 134 -->The <!-- /react-text --><code data-reactid="135">welcomeMessage</code><!-- react-text: 136 --> and <!-- /react-text --><code data-reactid="137">goodbyeMessage</code><!-- react-text: 138 --> are removed from the config files and ActionHero now refrences the locale files for these strings.  Update yours accodingly.<!-- /react-text --></li></ul></ul><li data-reactid="139"><strong data-reactid="140">utils</strong></li><ul data-reactid="141"><li data-reactid="142"><code data-reactid="143">api.utils.recursiveDirectoryGlob</code><!-- react-text: 144 --> has been removed in favor of the <!-- /react-text --><a href="https://github.com/isaacs/node-glob" data-reactid="145">glob package</a><!-- react-text: 146 -->.  Use this instead.<!-- /react-text --></li></ul></ul></div></div></div><div data-reactid="147"><br data-reactid="148"/><h2 id="v16" style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72;" data-reactid="149"><span style="font-weight:300;font-size:36px;" data-reactid="150">Upgrading from v15 to v16</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px;" data-reactid="151"/><div style="font-family:Open Sans, sans-serif;" data-reactid="152"><div data-reactid="153"><p data-reactid="154"><strong data-reactid="155"><!-- react-text: 156 -->Full Release Notes: <!-- /react-text --><a href="https://github.com/actionhero/actionhero/releases/tag/v16.0.0" data-reactid="157">GitHub</a></strong></p><p data-reactid="158"><strong data-reactid="159">Breaking Changes and How to Overcome Them:</strong></p><p data-reactid="160">The only breaking changes are related to the capilization of internal methods:</p><ul data-reactid="161"><li data-reactid="162"><code data-reactid="163">api.Connecton()</code><!-- react-text: 164 --> rather than <!-- /react-text --><code data-reactid="165">api.connection()</code></li><li data-reactid="166"><code data-reactid="167">api.GenericServer()</code><!-- react-text: 168 --> rather than <!-- /react-text --><code data-reactid="169">api.genericServer()</code></li><li data-reactid="170"><code data-reactid="171">api.ActionProcessor()</code><!-- react-text: 172 --> rather than <!-- /react-text --><code data-reactid="173">api.actionProcessor()</code></li><li data-reactid="174"><code data-reactid="175">require(&#x27;actionhero&#x27;)</code><!-- react-text: 176 --> not <!-- /react-text --><code data-reactid="177">require(&#x27;actionhero&#x27;).actionheroPrototype</code><!-- react-text: 178 --> should you be using ActionHero programatically.<!-- /react-text --></li></ul></div></div></div><div data-reactid="179"><br data-reactid="180"/><h2 id="v15" style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72;" data-reactid="181"><span style="font-weight:300;font-size:36px;" data-reactid="182">Upgrading from v14 to v15</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px;" data-reactid="183"/><div style="font-family:Open Sans, sans-serif;" data-reactid="184"><div data-reactid="185"><p data-reactid="186"><strong data-reactid="187"><!-- react-text: 188 -->Full Release Notes: <!-- /react-text --><a href="https://github.com/actionhero/actionhero/releases/tag/v15.0.0" data-reactid="189">GitHub</a></strong></p><p data-reactid="190"><strong data-reactid="191">Breaking Changes and How to Overcome Them:</strong></p><pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8;" data-reactid="192"><code data-reactid="193"><!-- react-text: 194 -->`actionhero generateAction --name=[name]`      -&gt; `actionhero generate action --name=[name]`
`actionhero generateInitializer --name=[name]` -&gt; `actionhero generate initializer --name=[name]`
`actionhero generateServer --name=[name]`      -&gt; `actionhero generate server --name=[name]`
`actionhero generateTask --name=[name]`        -&gt; `actionhero generate task --name=[name]`
<!-- /react-text --></code></pre><ul data-reactid="195"><li data-reactid="196"><!-- react-text: 197 -->The ActionHero binary has had it&#x27;s commands changed.<!-- /react-text --><ul data-reactid="198"><li data-reactid="199">Any deployment or automation tools you use will need to be updated accordingly.</li></ul></li><li data-reactid="200"><!-- react-text: 201 -->Tasks now use middleware instead of plugins.<!-- /react-text --><ul data-reactid="202"><li data-reactid="203">You will need to convert all uses of task plugins to task middleware.</li></ul></li></ul></div></div></div><div data-reactid="204"><br data-reactid="205"/><h2 id="v14" style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72;" data-reactid="206"><span style="font-weight:300;font-size:36px;" data-reactid="207">Upgrading from v13 to v14</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px;" data-reactid="208"/><div style="font-family:Open Sans, sans-serif;" data-reactid="209"><div data-reactid="210"><p data-reactid="211"><strong data-reactid="212"><!-- react-text: 213 -->Full Release Notes: <!-- /react-text --><a href="https://github.com/actionhero/actionhero/releases/tag/v14.0.0" data-reactid="214">GitHub</a></strong></p><p data-reactid="215"><strong data-reactid="216">Breaking Changes and How to Overcome Them:</strong></p><ul data-reactid="217"><li data-reactid="218"><!-- react-text: 219 -->Redis Client Configurations have changed drastically.  This allows for greater configuration, but at a complexity cost.<!-- /react-text --><ul data-reactid="220"><li data-reactid="221"><!-- react-text: 222 -->The easiest way to upgrade your <!-- /react-text --><code data-reactid="223">config/redis.js</code><!-- react-text: 224 --> is to take if from the <!-- /react-text --><a href="https://github.com/actionhero/actionhero/blob/master/config/redis.js" data-reactid="225">master branch</a><!-- react-text: 226 --> directly and re-apply your configuration.<!-- /react-text --></li><li data-reactid="227"><!-- react-text: 228 -->Move <!-- /react-text --><code data-reactid="229">api.config.redis.channel</code><!-- react-text: 230 --> to <!-- /react-text --><code data-reactid="231">api.config.general.channel</code></li><li data-reactid="232"><!-- react-text: 233 -->Move <!-- /react-text --><code data-reactid="234">api.config.redis. rpcTimeout</code><!-- react-text: 235 --> to <!-- /react-text --><code data-reactid="236">api.config.general.rpcTimeout</code></li><li data-reactid="237"><!-- react-text: 238 -->Throughout the code, use <!-- /react-text --><code data-reactid="239">api.config.redis.client</code><!-- react-text: 240 --> rather than <!-- /react-text --><code data-reactid="241">api.redis.client</code></li></ul></li></ul></div></div></div><div data-reactid="242"><br data-reactid="243"/><h2 id="v13" style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72;" data-reactid="244"><span style="font-weight:300;font-size:36px;" data-reactid="245">Upgrading from v12 to v13</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px;" data-reactid="246"/><div style="font-family:Open Sans, sans-serif;" data-reactid="247"><div data-reactid="248"><p data-reactid="249"><strong data-reactid="250"><!-- react-text: 251 -->Full Release Notes: <!-- /react-text --><a href="https://github.com/actionhero/actionhero/releases/tag/v13.0.0" data-reactid="252">GitHub</a></strong></p><p data-reactid="253"><strong data-reactid="254">Breaking Changes and How to Overcome Them:</strong></p><ul data-reactid="255"><li data-reactid="256"><!-- react-text: 257 -->Pluggins<!-- /react-text --><ul data-reactid="258"><li data-reactid="259"><code data-reactid="260">config/plugins.js</code><!-- react-text: 261 --> is removed.  Delete yours.<!-- /react-text --></li><li data-reactid="262"><!-- react-text: 263 -->Use the new binary command, <!-- /react-text --><code data-reactid="264">actionhero link --name=NameOfPlugin</code><!-- react-text: 265 --> to link your plugins in the new method.<!-- /react-text --></li><li data-reactid="266">Linking plugins will likley create new config files you may need to customize.</li></ul></li><li data-reactid="267"><!-- react-text: 268 -->Locales<!-- /react-text --><ul data-reactid="269"><li data-reactid="270"><!-- react-text: 271 -->This release introduced Locales. You will need the new locale config file.  The easiest way to upgrade your <!-- /react-text --><code data-reactid="272">config/i18n.js</code><!-- react-text: 273 --> is to take if from the <!-- /react-text --><a href="https://github.com/actionhero/actionhero/blob/master/config/i18n.js" data-reactid="274">master branch</a><!-- react-text: 275 -->.<!-- /react-text --></li><li data-reactid="276"><!-- react-text: 277 -->Ensure that <!-- /react-text --><code data-reactid="278">api.config.i18n.updateFiles</code><!-- react-text: 279 --> is <!-- /react-text --><code data-reactid="280">true</code><!-- react-text: 281 --> so that your locale files can be generated for the first time.<!-- /react-text --></li></ul></li><li data-reactid="282"><!-- react-text: 283 -->Errors<!-- /react-text --><ul data-reactid="284"><li data-reactid="285"><code data-reactid="286">config/errors.js</code><!-- react-text: 287 --> has been completely redone to take advantage of <!-- /react-text --><code data-reactid="288">connection.localize</code><!-- react-text: 289 -->.  The easiest way to upgrade your <!-- /react-text --><code data-reactid="290">config/errors.js</code><!-- react-text: 291 --> is to take if from the <!-- /react-text --><a href="https://github.com/actionhero/actionhero/blob/master/config/errors.js" data-reactid="292">master branch</a><!-- react-text: 293 -->.<!-- /react-text --></li></ul></li><li data-reactid="294"><!-- react-text: 295 -->Grunt Removed<!-- /react-text --><ul data-reactid="296"><li data-reactid="297">Grunt is removed from the project.  The old ActionHero grunt commands have been moved into the ActionHero binary.</li></ul></li><li data-reactid="298"><!-- react-text: 299 -->Redis configuration<!-- /react-text --><ul data-reactid="300"><li data-reactid="301"><code data-reactid="302">package</code><!-- react-text: 303 --> is a reserved keyword in JavaScript.  We now use the key <!-- /react-text --><code data-reactid="304">pkg</code><!-- react-text: 305 --> in the redis config.<!-- /react-text --></li></ul></li></ul></div></div></div><div data-reactid="306"><br data-reactid="307"/><h2 id="v12" style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72;" data-reactid="308"><span style="font-weight:300;font-size:36px;" data-reactid="309">Upgrading from v11 to v12</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px;" data-reactid="310"/><div style="font-family:Open Sans, sans-serif;" data-reactid="311"><div data-reactid="312"><p data-reactid="313"><strong data-reactid="314"><!-- react-text: 315 -->Full Release Notes: <!-- /react-text --><a href="https://github.com/actionhero/actionhero/releases/tag/v12.0.0" data-reactid="316">GitHub</a></strong></p><p data-reactid="317"><strong data-reactid="318">Breaking Changes and How to Overcome Them:</strong></p><ul data-reactid="319"><li data-reactid="320"><!-- react-text: 321 -->Redis configuration<!-- /react-text --><ul data-reactid="322"><li data-reactid="323"><!-- react-text: 324 -->Switch from using the <!-- /react-text --><code data-reactid="325">redis</code><!-- react-text: 326 --> npm pacakge to <!-- /react-text --><code data-reactid="327">ioredis</code><!-- react-text: 328 -->.  Change this in your package.json.<!-- /react-text --></li></ul></li><li data-reactid="329"><code data-reactid="330">ioredis</code><!-- react-text: 331 --> handles passwords slightly differently.  Read the <!-- /react-text --><a href="https://github.com/luin/ioredis" data-reactid="332">ioredis</a><!-- react-text: 333 --> documentation to learn more.<!-- /react-text --></li><li data-reactid="334"><!-- react-text: 335 -->Stats Removed<!-- /react-text --><ul data-reactid="336"><li data-reactid="337"><!-- react-text: 338 -->The <!-- /react-text --><code data-reactid="339">api.stats</code><!-- react-text: 340 --> subsection has been removed from actionhero<!-- /react-text --></li><li data-reactid="341"><!-- react-text: 342 -->If you need the stats subsection, you can get get it <!-- /react-text --><a href="https://github.com/actionhero/ah-stats-plugin" data-reactid="343">via plugin</a></li></ul></li></ul></div></div></div><div data-reactid="344"><br data-reactid="345"/><h2 id="v11" style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72;" data-reactid="346"><span style="font-weight:300;font-size:36px;" data-reactid="347">Upgrading from v10 to v11</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px;" data-reactid="348"/><div style="font-family:Open Sans, sans-serif;" data-reactid="349"><div data-reactid="350"><p data-reactid="351"><strong data-reactid="352"><!-- react-text: 353 -->Full Release Notes: <!-- /react-text --><a href="https://github.com/actionhero/actionhero/releases/tag/v11.0.0" data-reactid="354">GitHub</a></strong></p><p data-reactid="355"><strong data-reactid="356">Breaking Changes and How to Overcome Them:</strong></p><ul data-reactid="357"><li data-reactid="358"><!-- react-text: 359 -->Action Syntax changed<!-- /react-text --><ul data-reactid="360"><li data-reactid="361"><pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8;" data-reactid="362"><code data-reactid="363"><!-- react-text: 364 -->run: <!-- /react-text --><span data-reactid="365"><span style="color:#333;font-weight:bold;" data-reactid="366"><!-- react-text: 367 -->function<!-- /react-text --></span><!-- react-text: 368 -->(<!-- /react-text --><span data-reactid="369"><!-- react-text: 370 -->api, data, next<!-- /react-text --></span><!-- react-text: 371 -->)<!-- /react-text --></span><!-- react-text: 372 -->{
  data.response.randomNumber = <!-- /react-text --><span style="color:#0086b3;" data-reactid="373"><!-- react-text: 374 -->Math<!-- /react-text --></span><!-- react-text: 375 -->.random();
  next(error);
}<!-- /react-text --></code></pre></li><li data-reactid="376">Where data contains:</li><li data-reactid="377"><pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8;" data-reactid="378"><code data-reactid="379"><!-- react-text: 380 -->data = {
  <!-- /react-text --><span data-reactid="381"><!-- react-text: 382 -->connection<!-- /react-text --></span><!-- react-text: 383 -->: connection,
  <!-- /react-text --><span data-reactid="384"><!-- react-text: 385 -->action<!-- /react-text --></span><!-- react-text: 386 -->: <!-- /react-text --><span style="color:#d14;" data-reactid="387"><!-- react-text: 388 -->&#x27;randomNumber&#x27;<!-- /react-text --></span><!-- react-text: 389 -->,
  <!-- /react-text --><span data-reactid="390"><!-- react-text: 391 -->toProcess<!-- /react-text --></span><!-- react-text: 392 -->: <!-- /react-text --><span style="color:#008080;" data-reactid="393"><!-- react-text: 394 -->true<!-- /react-text --></span><!-- react-text: 395 -->,
  <!-- /react-text --><span data-reactid="396"><!-- react-text: 397 -->toRender<!-- /react-text --></span><!-- react-text: 398 -->: <!-- /react-text --><span style="color:#008080;" data-reactid="399"><!-- react-text: 400 -->true<!-- /react-text --></span><!-- react-text: 401 -->,
  <!-- /react-text --><span data-reactid="402"><!-- react-text: 403 -->messageCount<!-- /react-text --></span><!-- react-text: 404 -->: <!-- /react-text --><span style="color:#008080;" data-reactid="405"><!-- react-text: 406 -->123<!-- /react-text --></span><!-- react-text: 407 -->,
  <!-- /react-text --><span data-reactid="408"><!-- react-text: 409 -->params<!-- /react-text --></span><!-- react-text: 410 -->: { <!-- /react-text --><span data-reactid="411"><!-- react-text: 412 -->action<!-- /react-text --></span><!-- react-text: 413 -->: <!-- /react-text --><span style="color:#d14;" data-reactid="414"><!-- react-text: 415 -->&#x27;randomNumber&#x27;<!-- /react-text --></span><!-- react-text: 416 -->, <!-- /react-text --><span data-reactid="417"><!-- react-text: 418 -->apiVersion<!-- /react-text --></span><!-- react-text: 419 -->: <!-- /react-text --><span style="color:#008080;" data-reactid="420"><!-- react-text: 421 -->1<!-- /react-text --></span><!-- react-text: 422 --> },
  <!-- /react-text --><span data-reactid="423"><!-- react-text: 424 -->actionStartTime<!-- /react-text --></span><!-- react-text: 425 -->: <!-- /react-text --><span style="color:#008080;" data-reactid="426"><!-- react-text: 427 -->123<!-- /react-text --></span><!-- react-text: 428 -->,
  <!-- /react-text --><span data-reactid="429"><!-- react-text: 430 -->response<!-- /react-text --></span><!-- react-text: 431 -->: {},
}<!-- /react-text --></code></pre></li><li data-reactid="432"><!-- react-text: 433 -->You will need to change all of your actions to use <!-- /react-text --><code data-reactid="434">data.connection</code><!-- react-text: 435 --> rather than <!-- /react-text --><code data-reactid="436">connection</code><!-- react-text: 437 --> directly.<!-- /react-text --></li><li data-reactid="438"><!-- react-text: 439 -->You will need to change all of your actions to use <!-- /react-text --><code data-reactid="440">data.response</code><!-- react-text: 441 --> rather than <!-- /react-text --><code data-reactid="442">connection.response</code><!-- react-text: 443 --> directly.<!-- /react-text --></li></ul></li><li data-reactid="444"><!-- react-text: 445 -->Middleware syntax has changed to match action&#x27;s <!-- /react-text --><code data-reactid="446">data</code><!-- react-text: 447 --> pattern.  You will need to change your middleware accordingly.<!-- /react-text --></li><li data-reactid="448"><!-- react-text: 449 -->Removed <!-- /react-text --><code data-reactid="450">connection._originalConnection</code><!-- react-text: 451 -->.<!-- /react-text --></li><li data-reactid="452"><!-- react-text: 453 -->Websockets:<!-- /react-text --><ul data-reactid="454"><li data-reactid="455"><!-- react-text: 456 -->The params of websocket connections should NOT be sticky. All actions will start with <!-- /react-text --><code data-reactid="457">connection.params = </code><!-- react-text: 458 -->.  If you rely on the old behavior, you will need to change your client code.<!-- /react-text --></li></ul></li><li data-reactid="459"><!-- react-text: 460 -->Action Processor:<!-- /react-text --><ul data-reactid="461"><li data-reactid="462">Removed duplicate callback prevention in ActionProcessor. This belongs on the user/implementer to handle.</li></ul></li></ul></div></div></div></div></div></div><div class="hidden-xs hidden-sm col-md-3" data-reactid="463"><div style="height:0;" data-reactid="464"><div data-reactid="465"><div data-reactid="466"></div><div style="padding-top:90px;" class="" data-reactid="467"><div data-reactid="468"><!-- react-empty: 469 --><div class="ais-InstantSearch__root" data-reactid="470"><form novalidate="" class="ais-SearchBox__root" action="" role="search" data-reactid="471"><svg xmlns="http://www.w3.org/2000/svg" style="display:none;" data-reactid="472"><symbol xmlns="http://www.w3.org/2000/svg" id="sbx-icon-search-13" viewBox="0 0 40 40" data-reactid="473"><path d="M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z" fill-rule="evenodd" data-reactid="474"></path></symbol><symbol xmlns="http://www.w3.org/2000/svg" id="sbx-icon-clear-3" viewBox="0 0 20 20" data-reactid="475"><path d="M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z" fill-rule="evenodd" data-reactid="476"></path></symbol></svg><div role="search" class="ais-SearchBox__wrapper" data-reactid="477"><input type="search" placeholder="Search here…" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" required="" value="" class="ais-SearchBox__input" data-reactid="478"/><button type="submit" title="Submit your search query." class="ais-SearchBox__submit" data-reactid="479"><svg role="img" width="1em" height="1em" data-reactid="480"><use xlink:href="#sbx-icon-search-13" data-reactid="481"></use></svg></button><button type="reset" title="Clear the search query." class="ais-SearchBox__reset" data-reactid="482"><svg role="img" width="1em" height="1em" data-reactid="483"><use xlink:href="#sbx-icon-clear-3" data-reactid="484"></use></svg></button></div></form><div class="ais-Hits__root" data-reactid="485"></div></div><br data-reactid="486"/></div><ul style="list-style-type:none;padding-left:0;margin-left:0;" data-reactid="487"><li data-reactid="488"><a href="#overview" class="text-info" style="font-weight:300;font-size:18px;line-height:1.6em;" data-reactid="489">Overview</a></li><li data-reactid="490"><a href="#v17" class="text-info" style="font-weight:300;font-size:18px;line-height:1.6em;" data-reactid="491">Upgrading from v16 to v17</a></li><li data-reactid="492"><a href="#v16" class="text-info" style="font-weight:300;font-size:18px;line-height:1.6em;" data-reactid="493">Upgrading from v15 to v16</a></li><li data-reactid="494"><a href="#v15" class="text-info" style="font-weight:300;font-size:18px;line-height:1.6em;" data-reactid="495">Upgrading from v14 to v15</a></li><li data-reactid="496"><a href="#v14" class="text-info" style="font-weight:300;font-size:18px;line-height:1.6em;" data-reactid="497">Upgrading from v13 to v14</a></li><li data-reactid="498"><a href="#v13" class="text-info" style="font-weight:300;font-size:18px;line-height:1.6em;" data-reactid="499">Upgrading from v12 to v13</a></li><li data-reactid="500"><a href="#v12" class="text-info" style="font-weight:300;font-size:18px;line-height:1.6em;" data-reactid="501">Upgrading from v11 to v12</a></li><li data-reactid="502"><a href="#v11" class="text-info" style="font-weight:300;font-size:18px;line-height:1.6em;" data-reactid="503">Upgrading from v10 to v11</a></li></ul><br data-reactid="504"/><ul style="list-style-type:none;padding-left:0;margin-left:0;" data-reactid="505"><div data-reactid="506"><li data-reactid="507"><a style="font-weight:200;color:#E14E3A;" href="/docs/ops/production-notes/" data-reactid="508">« Operations: Production Notes</a></li></div><li data-reactid="509"><a href="#_top" style="font-weight:200;color:#E14E3A;" data-reactid="510">↑ Back to top</a></li></ul></div></div></div></div></div></div></div><div style="padding-left:0;padding-right:0;font-family:Roboto, sans-serif;font-size:14px;font-weight:300;" class="container-fluid" data-reactid="511"><footer id="footer-container" style="background-color:#2F5266;color:#FBF9E4;font-family:Roboto, sans-serif;font-weight:200;" data-reactid="512"><div class="container" data-reactid="513"><div style="padding-bottom:50px;padding-top:50px;padding-left:100px;" class="row" data-reactid="514"><div class="col-md-12" data-reactid="515"><img src="/static/images/actionhero-logo-header-wordmark.svg" data-reactid="516"/></div></div><div style="padding-bottom:100px;" class="row" data-reactid="517"><div class="col-md-4" data-reactid="518"><div style="padding-left:100px;" data-reactid="519"><p data-reactid="520"><a style="color:#FBF9E4;" href="/terms/" data-reactid="521">Terms</a></p><p data-reactid="522"><!-- react-text: 523 -->Contact us at <!-- /react-text --><a style="color:#FBF9E4;font-weight:500;" href="mailto:hello@actionherojs.com" data-reactid="524">hello@actionherojs.com</a></p><p data-reactid="525"><a target="_new" style="color:#FBF9E4;" href="https://medium.com/tag/actionherojs/" data-reactid="526">Blogs</a></p><p data-reactid="527"><!-- react-text: 528 -->© 2017<!-- /react-text --><!-- react-text: 529 --> ActionHero<!-- /react-text --></p><p data-reactid="530"><em data-reactid="531"><!-- react-text: 532 -->Search by <!-- /react-text --><a href="https://www.algolia.com" target="_new" data-reactid="533"><!-- react-text: 534 -->Algolia <!-- /react-text --><img style="padding:5px;" width="30" src="/static/images/algolia.svg" data-reactid="535"/></a></em></p></div></div><div class="col-md-4" data-reactid="536"><div style="padding-left:100px;" data-reactid="537"><p data-reactid="538"><a style="color:#FBF9E4;" href="/get-started/" data-reactid="539">Get Started</a></p><p data-reactid="540"><a style="color:#FBF9E4;" href="/docs/" data-reactid="541">Documenation</a></p><p data-reactid="542"><a style="color:#FBF9E4;" href="/solutions/" data-reactid="543">Solutions</a></p><p data-reactid="544"><a style="color:#FBF9E4;" href="/community/" data-reactid="545">Community</a></p><p data-reactid="546"><a style="color:#FBF9E4;" href="/downloads/" data-reactid="547">Downloads</a></p></div></div><div class="col-md-4" data-reactid="548"><div style="padding-left:100px;" data-reactid="549"><p data-reactid="550"><a target="_new" style="color:#FBF9E4;" href="https://www.npmjs.com/package/actionhero/" data-reactid="551">NPM</a></p><p data-reactid="552"><a target="_new" style="color:#FBF9E4;" href="https://twitter.com/actionherojs/" data-reactid="553">Twitter</a></p><p data-reactid="554"><a target="_new" style="color:#FBF9E4;" href="https://slack.actionherojs.com/" data-reactid="555">Slack</a></p><p data-reactid="556"><a target="_new" style="color:#FBF9E4;" href="https://github.com/actionhero/actionhero/" data-reactid="557">Github</a></p></div></div></div></div></footer></div></div></div></div><div id="__next-error"></div></div><div><script>
          __NEXT_DATA__ = {"props":{},"pathname":"/docs/ops/upgrade-path","query":{},"buildId":"e702224b-024f-4339-82ea-8c2023a92317","buildStats":{"app.js":{"hash":"517642acd6437ad7e589c92138f402c3"}},"assetPrefix":"","nextExport":true,"err":null,"chunks":[]}
          module={}
          __NEXT_LOADED_PAGES__ = []
          __NEXT_LOADED_CHUNKS__ = []

          __NEXT_REGISTER_PAGE = function (route, fn) {
            __NEXT_LOADED_PAGES__.push({ route: route, fn: fn })
          }

          __NEXT_REGISTER_CHUNK = function (chunkName, fn) {
            __NEXT_LOADED_CHUNKS__.push({ chunkName: chunkName, fn: fn })
          }
        </script><script async="" id="__NEXT_PAGE__/docs/ops/upgrade-path" type="text/javascript" src="/_next/e702224b-024f-4339-82ea-8c2023a92317/page/docs/ops/upgrade-path/index.js"></script><script async="" id="__NEXT_PAGE__/_error" type="text/javascript" src="/_next/e702224b-024f-4339-82ea-8c2023a92317/page/_error/index.js"></script><div></div><script type="text/javascript" src="/_next/517642acd6437ad7e589c92138f402c3/app.js" async=""></script></div></body></html>