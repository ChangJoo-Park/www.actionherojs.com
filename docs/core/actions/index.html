<!DOCTYPE html><html><head><link rel="preload" href="/_next/e702224b-024f-4339-82ea-8c2023a92317/page/docs/core/actions/index.js" as="script"/><link rel="preload" href="/_next/e702224b-024f-4339-82ea-8c2023a92317/page/_error/index.js" as="script"/><link rel="preload" href="/_next/517642acd6437ad7e589c92138f402c3/app.js" as="script"/><meta charset="utf-8" class="next-head"/><link rel="apple-touch-icon" sizes="57x57" href="/static/images/icons/apple-icon-57x57.png" class="next-head"/><link rel="apple-touch-icon" sizes="60x60" href="/static/images/icons/apple-icon-60x60.png" class="next-head"/><link rel="apple-touch-icon" sizes="72x72" href="/static/images/icons/apple-icon-72x72.png" class="next-head"/><link rel="apple-touch-icon" sizes="76x76" href="/static/images/icons/apple-icon-76x76.png" class="next-head"/><link rel="apple-touch-icon" sizes="114x114" href="/static/images/icons/apple-icon-114x114.png" class="next-head"/><link rel="apple-touch-icon" sizes="120x120" href="/static/images/icons/apple-icon-120x120.png" class="next-head"/><link rel="apple-touch-icon" sizes="144x144" href="/static/images/icons/apple-icon-144x144.png" class="next-head"/><link rel="apple-touch-icon" sizes="152x152" href="/static/images/icons/apple-icon-152x152.png" class="next-head"/><link rel="apple-touch-icon" sizes="180x180" href="/static/images/icons/apple-icon-180x180.png" class="next-head"/><link rel="icon" type="image/png" sizes="192x192" href="/static/images/icons/android-icon-192x192.png" class="next-head"/><link rel="icon" type="image/png" sizes="32x32" href="/static/images/icons/favicon-32x32.png" class="next-head"/><link rel="icon" type="image/png" sizes="96x96" href="/static/images/icons/favicon-96x96.png" class="next-head"/><link rel="icon" type="image/png" sizes="16x16" href="/static/images/icons/favicon-16x16.png" class="next-head"/><meta name="viewport" content="width=device-width" class="next-head"/><link rel="stylesheet" type="text/css" href="/static/css/bootstrap.min.css" class="next-head"/><link rel="stylesheet" type="text/css" href="/static/css/bebasNeue.css" class="next-head"/><link rel="stylesheet" type="text/css" href="/static/css/animations.css" class="next-head"/><link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700,800|Roboto:100,300,400,500,700,900" rel="stylesheet" class="next-head"/><title class="next-head">ActionHero</title><script src="/static/js/googleAnalytics.js" class="next-head"></script><link rel="stylesheet" href="https://unpkg.com/react-instantsearch-theme-algolia@4.0.0/style.min.css" class="next-head"/></head><body><div><div id="__next"><div data-reactroot="" data-reactid="1" data-react-checksum="1944350070"><div data-reactid="2"><!-- react-empty: 3 --><div style="padding-left:0;padding-right:0;font-family:Roboto, sans-serif;font-size:14px;font-weight:300;" class="container-fluid" data-reactid="4"><header style="background-color:#2F5266;" data-reactid="5"><div class="container" data-reactid="6"><nav style="background-color:#2F5266;padding-top:5px;margin-bottom:10px;border:0;" class="navbar navbar-default" data-reactid="7"><div class="container" data-reactid="8"><div class="navbar-header" data-reactid="9"><a style="padding-top:0;margin-bottom:15px;" class="navbar-brand" data-reactid="10"><img src="/static/images/actionhero-logo-header-wordmark.svg" style="padding-top:14px;padding-bottom:20px;" data-reactid="11"/></a><button type="button" class="navbar-toggle collapsed" data-reactid="12"><span class="sr-only" data-reactid="13">Toggle navigation</span><span class="icon-bar" data-reactid="14"></span><span class="icon-bar" data-reactid="15"></span><span class="icon-bar" data-reactid="16"></span></button></div><div class="navbar-collapse collapse" data-reactid="17"><ul class="nav navbar-nav navbar-right" data-reactid="18"></ul><ul class="hidden-md hidden-sm hidden-xs nav navbar-nav navbar-left" data-reactid="19"><li role="presentation" class="" data-reactid="20"><a role="button" href="#" data-reactid="21"> </a></li><li role="presentation" class="" data-reactid="22"><a role="button" href="#" data-reactid="23"> </a></li><li role="presentation" class="" data-reactid="24"><a role="button" href="#" data-reactid="25"> </a></li><li role="presentation" class="" data-reactid="26"><a role="button" href="#" data-reactid="27"> </a></li></ul><ul class="nav navbar-nav navbar-left" data-reactid="28"><li role="presentation" class="" data-reactid="29"><a role="button" href="#" data-reactid="30"><span style="line-height:3;color:#FFFFFF;padding-bottom:10px;font-weight:300;" data-reactid="31">Downloads</span></a></li><li role="presentation" class="" data-reactid="32"><a role="button" href="#" data-reactid="33"><span style="line-height:3;color:#FFFFFF;padding-bottom:10px;font-weight:300;" data-reactid="34">Documentation</span></a></li><li role="presentation" class="hidden-sm" data-reactid="35"><a role="button" href="#" data-reactid="36"><span style="line-height:3;color:#FFFFFF;padding-bottom:10px;font-weight:300;" data-reactid="37">Solutions</span></a></li><li role="presentation" class="" data-reactid="38"><a role="button" href="#" data-reactid="39"><span style="line-height:3;color:#FFFFFF;padding-bottom:10px;font-weight:300;" data-reactid="40">Community</span></a></li></ul><ul class="nav navbar-nav navbar-right" data-reactid="41"><div data-reactid="42"><a style="text-decoration:none;" href="/get-started/" data-reactid="43"><button style="font-family:Roboto, sans-serif;font-size:14px;max-width:200px;border-radius:50px;margin:0 auto;color:#FFFFFF;background-color:#6E8898;border-color:#6E8898;font-weight:300;margin-top:20px;margin-bottom:0;margin-left:10px;margin-right:10px;outline:none;" type="button" class="btn btn-lg btn-default btn-block" data-reactid="44">Get Started</button></a></div></ul></div></div></nav></div></header></div><div style="padding-left:0;padding-right:0;font-family:Roboto, sans-serif;font-size:14px;font-weight:300;" class="container-fluid" data-reactid="45"><div style="background-color:#FBF9E4;color:#2F5266;font-weight:200;padding:50px;" data-reactid="46"><div class="container" data-reactid="47"><div class="row" data-reactid="48"><div style="text-align:center;" class="col-md-3" data-reactid="49"><img src="/static/images/easy-to-use-actions.svg" data-reactid="50"/></div><div style="text-align:center;" class="col-md-6" data-reactid="51"><h1 style="font-family:BebasNeue, Roboto, sans-serif;font-weight:bold;margin-top:20px;margin-bottom:10px;letter-spacing:2px;font-size:36px;" data-reactid="52"><br data-reactid="53"/><!-- react-text: 54 -->Core: Actions<!-- /react-text --></h1></div><div class="col-md-3" data-reactid="55"></div></div></div></div><div style="height:183px;background:url(&quot;/static/images/clouds-white.svg&quot;) no-repeat center #FBF9E4;" data-reactid="56"></div><div style="padding-bottom:100px;" class="container" data-reactid="57"><div class="row" data-reactid="58"><div id="_top" data-reactid="59"></div><div id="docPageContent" class="col-md-9" data-reactid="60"><div class="row" data-reactid="61"><div class="col-md-12" data-reactid="62"><div data-reactid="63"><br data-reactid="64"/><h2 id="overview" style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72;" data-reactid="65"><span style="font-weight:300;font-size:36px;" data-reactid="66">Overview</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px;" data-reactid="67"/><div style="font-family:Open Sans, sans-serif;" data-reactid="68"><div data-reactid="69"><pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8;" data-reactid="70"><code data-reactid="71"><span style="color:#998;font-style:italic;" data-reactid="72"><!-- react-text: 73 -->// A Simple Action //<!-- /react-text --></span><!-- react-text: 74 -->

exports.action = {
  <!-- /react-text --><span data-reactid="75"><!-- react-text: 76 -->name<!-- /react-text --></span><!-- react-text: 77 -->: <!-- /react-text --><span style="color:#d14;" data-reactid="78"><!-- react-text: 79 -->&#x27;randomNumber&#x27;<!-- /react-text --></span><!-- react-text: 80 -->,
  <!-- /react-text --><span data-reactid="81"><!-- react-text: 82 -->description<!-- /react-text --></span><!-- react-text: 83 -->: <!-- /react-text --><span style="color:#d14;" data-reactid="84"><!-- react-text: 85 -->&#x27;I am an API method which will generate a random number&#x27;<!-- /react-text --></span><!-- react-text: 86 -->,
  <!-- /react-text --><span data-reactid="87"><!-- react-text: 88 -->outputExample<!-- /react-text --></span><!-- react-text: 89 -->: {
    <!-- /react-text --><span data-reactid="90"><!-- react-text: 91 -->randomNumber<!-- /react-text --></span><!-- react-text: 92 -->: <!-- /react-text --><span style="color:#008080;" data-reactid="93"><!-- react-text: 94 -->0.123<!-- /react-text --></span><!-- react-text: 95 -->
  },

  <!-- /react-text --><span data-reactid="96"><!-- react-text: 97 -->run<!-- /react-text --></span><!-- react-text: 98 -->: <!-- /react-text --><span data-reactid="99"><span style="color:#333;font-weight:bold;" data-reactid="100"><!-- react-text: 101 -->function<!-- /react-text --></span><!-- react-text: 102 -->(<!-- /react-text --><span data-reactid="103"><!-- react-text: 104 -->api, data, next<!-- /react-text --></span><!-- react-text: 105 -->)<!-- /react-text --></span><!-- react-text: 106 -->{
    data.response.randomNumber = <!-- /react-text --><span style="color:#0086b3;" data-reactid="107"><!-- react-text: 108 -->Math<!-- /react-text --></span><!-- react-text: 109 -->.random();
    next();
  }
}
<!-- /react-text --></code></pre><p data-reactid="110"><!-- react-text: 111 -->The core of ActionHero is the Action framework, and <!-- /react-text --><strong data-reactid="112">actions</strong><!-- react-text: 113 --> are the basic units of work.  All connection types from all servers can use actions.  This means that you only need to write an action once, and both HTTP clients and websocket clients can consume it.<!-- /react-text --></p><p data-reactid="114"><!-- react-text: 115 -->The goal of an action is to read <!-- /react-text --><code data-reactid="116">data.params</code><!-- react-text: 117 --> (which are the arguments a connection provides), do work, and set the <!-- /react-text --><code data-reactid="118">data.response</code><!-- react-text: 119 --> (and <!-- /react-text --><code data-reactid="120">error</code><!-- react-text: 121 --> when needed) values to build the response to the client.<!-- /react-text --></p><p data-reactid="122"><!-- react-text: 123 -->You can create you own actions by placing them in a <!-- /react-text --><code data-reactid="124">./actions/</code><!-- react-text: 125 --> folder at the root of your application.  You can use the generator with <!-- /react-text --><code data-reactid="126">actionhero generate action --name=myAction</code></p><p data-reactid="127">Here&#x27;s an example of a simple action which will return a random number to the client:</p><p data-reactid="128">You can also define more than one action per file if you would like, to share common methods and components (like input parsers):</p><pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8;" data-reactid="129"><code data-reactid="130"><span style="color:#998;font-style:italic;" data-reactid="131"><!-- react-text: 132 -->// A Combound Action with Shared Inputs//<!-- /react-text --></span><!-- react-text: 133 -->

<!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="134"><!-- react-text: 135 -->var<!-- /react-text --></span><!-- react-text: 136 --> commonInputs = {
  <!-- /react-text --><span data-reactid="137"><!-- react-text: 138 -->email<!-- /react-text --></span><!-- react-text: 139 -->: {
    <!-- /react-text --><span data-reactid="140"><!-- react-text: 141 -->required<!-- /react-text --></span><!-- react-text: 142 -->: <!-- /react-text --><span style="color:#008080;" data-reactid="143"><!-- react-text: 144 -->true<!-- /react-text --></span><!-- react-text: 145 -->,
    <!-- /react-text --><span data-reactid="146"><!-- react-text: 147 -->validator<!-- /react-text --></span><!-- react-text: 148 -->: <!-- /react-text --><span data-reactid="149"><span style="color:#333;font-weight:bold;" data-reactid="150"><!-- react-text: 151 -->function<!-- /react-text --></span><!-- react-text: 152 -->(<!-- /react-text --><span data-reactid="153"><!-- react-text: 154 -->param<!-- /react-text --></span><!-- react-text: 155 -->)<!-- /react-text --></span><!-- react-text: 156 -->{
      <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="157"><!-- react-text: 158 -->if<!-- /react-text --></span><!-- react-text: 159 -->( email.indexOf(<!-- /react-text --><span style="color:#d14;" data-reactid="160"><!-- react-text: 161 -->&#x27;@&#x27;<!-- /react-text --></span><!-- react-text: 162 -->) &gt; <!-- /react-text --><span style="color:#008080;" data-reactid="163"><!-- react-text: 164 -->0<!-- /react-text --></span><!-- react-text: 165 --> ){
        <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="166"><!-- react-text: 167 -->return<!-- /react-text --></span><!-- react-text: 168 --> <!-- /react-text --><span style="color:#008080;" data-reactid="169"><!-- react-text: 170 -->true<!-- /react-text --></span><!-- react-text: 171 -->;
      }<!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="172"><!-- react-text: 173 -->else<!-- /react-text --></span><!-- react-text: 174 -->{
        <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="175"><!-- react-text: 176 -->return<!-- /react-text --></span><!-- react-text: 177 --> <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="178"><!-- react-text: 179 -->new<!-- /react-text --></span><!-- react-text: 180 --> <!-- /react-text --><span style="color:#0086b3;" data-reactid="181"><!-- react-text: 182 -->Error<!-- /react-text --></span><!-- react-text: 183 -->(<!-- /react-text --><span style="color:#d14;" data-reactid="184"><!-- react-text: 185 -->&#x27;that is not a valid email address&#x27;<!-- /react-text --></span><!-- react-text: 186 -->);
      }
    },
  },
  <!-- /react-text --><span data-reactid="187"><!-- react-text: 188 -->password<!-- /react-text --></span><!-- react-text: 189 -->: {
    <!-- /react-text --><span data-reactid="190"><!-- react-text: 191 -->required<!-- /react-text --></span><!-- react-text: 192 -->: <!-- /react-text --><span style="color:#008080;" data-reactid="193"><!-- react-text: 194 -->true<!-- /react-text --></span><!-- react-text: 195 -->,
    <!-- /react-text --><span data-reactid="196"><!-- react-text: 197 -->validator<!-- /react-text --></span><!-- react-text: 198 -->: <!-- /react-text --><span data-reactid="199"><span style="color:#333;font-weight:bold;" data-reactid="200"><!-- react-text: 201 -->function<!-- /react-text --></span><!-- react-text: 202 -->(<!-- /react-text --><span data-reactid="203"><!-- react-text: 204 -->param<!-- /react-text --></span><!-- react-text: 205 -->)<!-- /react-text --></span><!-- react-text: 206 -->{
      <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="207"><!-- react-text: 208 -->if<!-- /react-text --></span><!-- react-text: 209 -->(param.length &lt; <!-- /react-text --><span style="color:#008080;" data-reactid="210"><!-- react-text: 211 -->4<!-- /react-text --></span><!-- react-text: 212 -->){
        <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="213"><!-- react-text: 214 -->return<!-- /react-text --></span><!-- react-text: 215 --> <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="216"><!-- react-text: 217 -->new<!-- /react-text --></span><!-- react-text: 218 --> <!-- /react-text --><span style="color:#0086b3;" data-reactid="219"><!-- react-text: 220 -->Error<!-- /react-text --></span><!-- react-text: 221 -->(<!-- /react-text --><span style="color:#d14;" data-reactid="222"><!-- react-text: 223 -->&#x27;password should be at least 3 letters long&#x27;<!-- /react-text --></span><!-- react-text: 224 -->);
      }<!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="225"><!-- react-text: 226 -->else<!-- /react-text --></span><!-- react-text: 227 -->{
        <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="228"><!-- react-text: 229 -->return<!-- /react-text --></span><!-- react-text: 230 --> <!-- /react-text --><span style="color:#008080;" data-reactid="231"><!-- react-text: 232 -->true<!-- /react-text --></span><!-- react-text: 233 -->;
      }
    },
    <!-- /react-text --><span data-reactid="234"><!-- react-text: 235 -->formatter<!-- /react-text --></span><!-- react-text: 236 -->: <!-- /react-text --><span data-reactid="237"><span style="color:#333;font-weight:bold;" data-reactid="238"><!-- react-text: 239 -->function<!-- /react-text --></span><!-- react-text: 240 -->(<!-- /react-text --><span data-reactid="241"><!-- react-text: 242 -->param<!-- /react-text --></span><!-- react-text: 243 -->)<!-- /react-text --></span><!-- react-text: 244 -->{
      <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="245"><!-- react-text: 246 -->return<!-- /react-text --></span><!-- react-text: 247 --> <!-- /react-text --><span style="color:#0086b3;" data-reactid="248"><!-- react-text: 249 -->String<!-- /react-text --></span><!-- react-text: 250 -->(param);
    },
  }
};

<!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="251"><!-- react-text: 252 -->// the actions<!-- /react-text --></span><!-- react-text: 253 -->

exports.userAdd = {
  <!-- /react-text --><span data-reactid="254"><!-- react-text: 255 -->name<!-- /react-text --></span><!-- react-text: 256 -->: <!-- /react-text --><span style="color:#d14;" data-reactid="257"><!-- react-text: 258 -->&#x27;userAdd&#x27;<!-- /react-text --></span><!-- react-text: 259 -->,
  <!-- /react-text --><span data-reactid="260"><!-- react-text: 261 -->description<!-- /react-text --></span><!-- react-text: 262 -->: <!-- /react-text --><span style="color:#d14;" data-reactid="263"><!-- react-text: 264 -->&#x27;I add a user&#x27;<!-- /react-text --></span><!-- react-text: 265 -->,
  <!-- /react-text --><span data-reactid="266"><!-- react-text: 267 -->inputs<!-- /react-text --></span><!-- react-text: 268 -->: commonInputs,
  <!-- /react-text --><span data-reactid="269"><!-- react-text: 270 -->run<!-- /react-text --></span><!-- react-text: 271 -->: <!-- /react-text --><span data-reactid="272"><span style="color:#333;font-weight:bold;" data-reactid="273"><!-- react-text: 274 -->function<!-- /react-text --></span><!-- react-text: 275 -->(<!-- /react-text --><span data-reactid="276"><!-- react-text: 277 -->api, data, next<!-- /react-text --></span><!-- react-text: 278 -->)<!-- /react-text --></span><!-- react-text: 279 -->{
    <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="280"><!-- react-text: 281 -->// your code here<!-- /react-text --></span><!-- react-text: 282 -->
    next(error);
  }
};

exports.userDelete = {
  <!-- /react-text --><span data-reactid="283"><!-- react-text: 284 -->name<!-- /react-text --></span><!-- react-text: 285 -->: <!-- /react-text --><span style="color:#d14;" data-reactid="286"><!-- react-text: 287 -->&#x27;userDelete&#x27;<!-- /react-text --></span><!-- react-text: 288 -->,
  <!-- /react-text --><span data-reactid="289"><!-- react-text: 290 -->description<!-- /react-text --></span><!-- react-text: 291 -->: <!-- /react-text --><span style="color:#d14;" data-reactid="292"><!-- react-text: 293 -->&#x27;I delete a user&#x27;<!-- /react-text --></span><!-- react-text: 294 -->,
  <!-- /react-text --><span data-reactid="295"><!-- react-text: 296 -->inputs<!-- /react-text --></span><!-- react-text: 297 -->: commonInputs,
  <!-- /react-text --><span data-reactid="298"><!-- react-text: 299 -->run<!-- /react-text --></span><!-- react-text: 300 -->: <!-- /react-text --><span data-reactid="301"><span style="color:#333;font-weight:bold;" data-reactid="302"><!-- react-text: 303 -->function<!-- /react-text --></span><!-- react-text: 304 -->(<!-- /react-text --><span data-reactid="305"><!-- react-text: 306 -->api, data, next<!-- /react-text --></span><!-- react-text: 307 -->)<!-- /react-text --></span><!-- react-text: 308 -->{
    <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="309"><!-- react-text: 310 -->// your code here<!-- /react-text --></span><!-- react-text: 311 -->
    next(error);
  }
}
<!-- /react-text --></code></pre></div></div></div><div data-reactid="312"><br data-reactid="313"/><h2 id="versions" style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72;" data-reactid="314"><span style="font-weight:300;font-size:36px;" data-reactid="315">Versions</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px;" data-reactid="316"/><div style="font-family:Open Sans, sans-serif;" data-reactid="317"><div data-reactid="318"><p data-reactid="319">ActionHero supports multiple versions of the same action.  This will allow you to support actions/routes of the same name with upgraded functionality.</p><ul data-reactid="320"><li data-reactid="321"><!-- react-text: 322 -->actions optionally have the <!-- /react-text --><code data-reactid="323">action.version</code><!-- react-text: 324 --> attribute.<!-- /react-text --></li><li data-reactid="325"><!-- react-text: 326 -->a reserved param, <!-- /react-text --><code data-reactid="327">apiVersion</code><!-- react-text: 328 --> is used to directly specify the version of an action a client may request.<!-- /react-text --></li><li data-reactid="329"><!-- react-text: 330 -->if a client doesn&#x27;t specify an <!-- /react-text --><code data-reactid="331">apiVersion</code><!-- react-text: 332 -->, they will be directed to the highest numerical version of that action.<!-- /react-text --></li></ul><p data-reactid="333">You can optionally create routes to handle your API versioning:</p><pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8;" data-reactid="334"><code data-reactid="335"><!-- react-text: 336 -->exports.routes = {
  <!-- /react-text --><span data-reactid="337"><!-- react-text: 338 -->all<!-- /react-text --></span><!-- react-text: 339 -->: [
    <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="340"><!-- react-text: 341 -->// creates routes like `/api/myAction/1/` and `/api/myAction/2/`<!-- /react-text --></span><!-- react-text: 342 -->
    <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="343"><!-- react-text: 344 -->// will also default `/api/myAction` to the latest version<!-- /react-text --></span><!-- react-text: 345 -->
    { <!-- /react-text --><span data-reactid="346"><!-- react-text: 347 -->path<!-- /react-text --></span><!-- react-text: 348 -->: <!-- /react-text --><span style="color:#d14;" data-reactid="349"><!-- react-text: 350 -->&#x27;/myAction/:apiVersion&#x27;<!-- /react-text --></span><!-- react-text: 351 -->, <!-- /react-text --><span data-reactid="352"><!-- react-text: 353 -->action<!-- /react-text --></span><!-- react-text: 354 -->: <!-- /react-text --><span style="color:#d14;" data-reactid="355"><!-- react-text: 356 -->&#x27;myAction&#x27;<!-- /react-text --></span><!-- react-text: 357 --> },

    <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="358"><!-- react-text: 359 -->// creates routes like `/api/1/myAction/` and `/api/2/myAction/`<!-- /react-text --></span><!-- react-text: 360 -->
    <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="361"><!-- react-text: 362 -->// will also default `/api/myAction` to the latest version<!-- /react-text --></span><!-- react-text: 363 -->
    { <!-- /react-text --><span data-reactid="364"><!-- react-text: 365 -->path<!-- /react-text --></span><!-- react-text: 366 -->: <!-- /react-text --><span style="color:#d14;" data-reactid="367"><!-- react-text: 368 -->&#x27;/:apiVersion/myAction&#x27;<!-- /react-text --></span><!-- react-text: 369 -->, <!-- /react-text --><span data-reactid="370"><!-- react-text: 371 -->action<!-- /react-text --></span><!-- react-text: 372 -->: <!-- /react-text --><span style="color:#d14;" data-reactid="373"><!-- react-text: 374 -->&#x27;myAction&#x27;<!-- /react-text --></span><!-- react-text: 375 --> },
  ]
};
<!-- /react-text --></code></pre><p data-reactid="376"><em data-reactid="377">As a note, if a client accessing ActionHero via routes does not provide an apiVersion and it is explicitly defined in the route, the highest number will not be assigned automatically, and will be seen as a routing error.</em></p></div></div></div><div data-reactid="378"><br data-reactid="379"/><h2 id="options" style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72;" data-reactid="380"><span style="font-weight:300;font-size:36px;" data-reactid="381">Options</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px;" data-reactid="382"/><div style="font-family:Open Sans, sans-serif;" data-reactid="383"><div data-reactid="384"><pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8;" data-reactid="385"><code data-reactid="386"><!-- react-text: 387 -->exports.action = {
  <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="388"><!-- react-text: 389 -->// the action&#x27;s name (the `exports` key doesn&#x27;t matter)<!-- /react-text --></span><!-- react-text: 390 -->
  name: <!-- /react-text --><span style="color:#d14;" data-reactid="391"><!-- react-text: 392 -->&#x27;randomNumber&#x27;<!-- /react-text --></span><!-- react-text: 393 -->,
  <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="394"><!-- react-text: 395 -->// the description<!-- /react-text --></span><!-- react-text: 396 -->
  description: <!-- /react-text --><span style="color:#d14;" data-reactid="397"><!-- react-text: 398 -->&#x27;I am an API method which will generate a random number&#x27;<!-- /react-text --></span><!-- react-text: 399 -->,
  <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="400"><!-- react-text: 401 -->// a hash of all the inputs this action will accept<!-- /react-text --></span><!-- react-text: 402 -->
  <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="403"><!-- react-text: 404 -->// any inputs provided to the action not in this hash will be stripped<!-- /react-text --></span><!-- react-text: 405 -->
  inputs: {
    <!-- /react-text --><span data-reactid="406"><!-- react-text: 407 -->multiplier<!-- /react-text --></span><!-- react-text: 408 -->: {
      <!-- /react-text --><span data-reactid="409"><!-- react-text: 410 -->required<!-- /react-text --></span><!-- react-text: 411 -->: <!-- /react-text --><span style="color:#008080;" data-reactid="412"><!-- react-text: 413 -->false<!-- /react-text --></span><!-- react-text: 414 -->,
      <!-- /react-text --><span data-reactid="415"><!-- react-text: 416 -->validator<!-- /react-text --></span><!-- react-text: 417 -->: <!-- /react-text --><span data-reactid="418"><span style="color:#333;font-weight:bold;" data-reactid="419"><!-- react-text: 420 -->function<!-- /react-text --></span><!-- react-text: 421 -->(<!-- /react-text --><span data-reactid="422"><!-- react-text: 423 -->param, connection, actionTemplate<!-- /react-text --></span><!-- react-text: 424 -->)<!-- /react-text --></span><!-- react-text: 425 -->{ <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="426"><!-- react-text: 427 -->if<!-- /react-text --></span><!-- react-text: 428 -->(param &lt; <!-- /react-text --><span style="color:#008080;" data-reactid="429"><!-- react-text: 430 -->0<!-- /react-text --></span><!-- react-text: 431 -->){
        <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="432"><!-- react-text: 433 -->return<!-- /react-text --></span><!-- react-text: 434 --> <!-- /react-text --><span style="color:#d14;" data-reactid="435"><!-- react-text: 436 -->&#x27;must be &gt; 0&#x27;<!-- /react-text --></span><!-- react-text: 437 --> }<!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="438"><!-- react-text: 439 -->else<!-- /react-text --></span><!-- react-text: 440 -->{ <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="441"><!-- react-text: 442 -->return<!-- /react-text --></span><!-- react-text: 443 --> <!-- /react-text --><span style="color:#008080;" data-reactid="444"><!-- react-text: 445 -->true<!-- /react-text --></span><!-- react-text: 446 -->; }
      },
      <!-- /react-text --><span data-reactid="447"><!-- react-text: 448 -->formatter<!-- /react-text --></span><!-- react-text: 449 -->: <!-- /react-text --><span data-reactid="450"><span style="color:#333;font-weight:bold;" data-reactid="451"><!-- react-text: 452 -->function<!-- /react-text --></span><!-- react-text: 453 -->(<!-- /react-text --><span data-reactid="454"><!-- react-text: 455 -->param, connection, actionTemplate<!-- /react-text --></span><!-- react-text: 456 -->)<!-- /react-text --></span><!-- react-text: 457 -->{
        <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="458"><!-- react-text: 459 -->return<!-- /react-text --></span><!-- react-text: 460 --> <!-- /react-text --><span style="color:#0086b3;" data-reactid="461"><!-- react-text: 462 -->parseInt<!-- /react-text --></span><!-- react-text: 463 -->(param);
      },
      <!-- /react-text --><span data-reactid="464"><!-- react-text: 465 -->default<!-- /react-text --></span><!-- react-text: 466 -->:   <!-- /react-text --><span data-reactid="467"><span style="color:#333;font-weight:bold;" data-reactid="468"><!-- react-text: 469 -->function<!-- /react-text --></span><!-- react-text: 470 -->(<!-- /react-text --><span data-reactid="471"><!-- react-text: 472 -->param, connection, actionTemplate<!-- /react-text --></span><!-- react-text: 473 -->)<!-- /react-text --></span><!-- react-text: 474 -->{
        <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="475"><!-- react-text: 476 -->return<!-- /react-text --></span><!-- react-text: 477 --> <!-- /react-text --><span style="color:#008080;" data-reactid="478"><!-- react-text: 479 -->1<!-- /react-text --></span><!-- react-text: 480 -->;
      },
    }
  },
  <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="481"><!-- react-text: 482 -->// any middlewares to apply before/after this action<!-- /react-text --></span><!-- react-text: 483 -->
  <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="484"><!-- react-text: 485 -->// global middleware will be applied automatically<!-- /react-text --></span><!-- react-text: 486 -->
  middleware: [],
  <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="487"><!-- react-text: 488 -->// an example response<!-- /react-text --></span><!-- react-text: 489 -->
  outputExample: { <!-- /react-text --><span data-reactid="490"><!-- react-text: 491 -->randomNumber<!-- /react-text --></span><!-- react-text: 492 -->: <!-- /react-text --><span style="color:#008080;" data-reactid="493"><!-- react-text: 494 -->123<!-- /react-text --></span><!-- react-text: 495 --> },
  <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="496"><!-- react-text: 497 -->// you can choose to block certain servers from using this action<!-- /react-text --></span><!-- react-text: 498 -->
  blockedConnectionTypes: [<!-- /react-text --><span style="color:#d14;" data-reactid="499"><!-- react-text: 500 -->&#x27;webSocket&#x27;<!-- /react-text --></span><!-- react-text: 501 -->],
  <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="502"><!-- react-text: 503 -->// how should this action be logged?<!-- /react-text --></span><!-- react-text: 504 -->
  logLevel: <!-- /react-text --><span style="color:#d14;" data-reactid="505"><!-- react-text: 506 -->&#x27;warning&#x27;<!-- /react-text --></span><!-- react-text: 507 -->,
  <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="508"><!-- react-text: 509 -->// (HTTP only) if the route for this action includes an extension (like .jpg), should the response MIME be adjusted to match?<!-- /react-text --></span><!-- react-text: 510 -->
  matchExtensionMimeType: <!-- /react-text --><span style="color:#008080;" data-reactid="511"><!-- react-text: 512 -->true<!-- /react-text --></span><!-- react-text: 513 -->,
  <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="514"><!-- react-text: 515 -->// should this action appear within `api.documentation.documentation`<!-- /react-text --></span><!-- react-text: 516 -->
  toDocument: <!-- /react-text --><span style="color:#008080;" data-reactid="517"><!-- react-text: 518 -->true<!-- /react-text --></span><!-- react-text: 519 -->,

  <!-- /react-text --><span data-reactid="520"><!-- react-text: 521 -->run<!-- /react-text --></span><!-- react-text: 522 -->: <!-- /react-text --><span data-reactid="523"><span style="color:#333;font-weight:bold;" data-reactid="524"><!-- react-text: 525 -->function<!-- /react-text --></span><!-- react-text: 526 -->(<!-- /react-text --><span data-reactid="527"><!-- react-text: 528 -->api, data, next<!-- /react-text --></span><!-- react-text: 529 -->)<!-- /react-text --></span><!-- react-text: 530 -->{
    <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="531"><!-- react-text: 532 -->var<!-- /react-text --></span><!-- react-text: 533 --> error = <!-- /react-text --><span style="color:#008080;" data-reactid="534"><!-- react-text: 535 -->null<!-- /react-text --></span><!-- react-text: 536 -->;

    data.response.randomNumber = <!-- /react-text --><span style="color:#0086b3;" data-reactid="537"><!-- react-text: 538 -->Math<!-- /react-text --></span><!-- react-text: 539 -->.random() * data.params.multiplier;
    next(error);
  }
}
<!-- /react-text --></code></pre><p data-reactid="540">The complete set of options an action can have are:</p></div></div></div><div data-reactid="541"><br data-reactid="542"/><h2 id="inputs" style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72;" data-reactid="543"><span style="font-weight:300;font-size:36px;" data-reactid="544">Inputs</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px;" data-reactid="545"/><div style="font-family:Open Sans, sans-serif;" data-reactid="546"><div data-reactid="547"><pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8;" data-reactid="548"><code data-reactid="549"><!-- react-text: 550 -->action.inputs = {
  <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="551"><!-- react-text: 552 -->// a simple input<!-- /react-text --></span><!-- react-text: 553 -->
  <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="554"><!-- react-text: 555 -->// defaults assume required = false<!-- /react-text --></span><!-- react-text: 556 -->
  minimalInput: {}
  <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="557"><!-- react-text: 558 -->// a complex input<!-- /react-text --></span><!-- react-text: 559 -->
  multiplier: {
    <!-- /react-text --><span data-reactid="560"><!-- react-text: 561 -->required<!-- /react-text --></span><!-- react-text: 562 -->: <!-- /react-text --><span style="color:#008080;" data-reactid="563"><!-- react-text: 564 -->true<!-- /react-text --></span><!-- react-text: 565 -->,
    <!-- /react-text --><span data-reactid="566"><!-- react-text: 567 -->validator<!-- /react-text --></span><!-- react-text: 568 -->: <!-- /react-text --><span data-reactid="569"><span style="color:#333;font-weight:bold;" data-reactid="570"><!-- react-text: 571 -->function<!-- /react-text --></span><!-- react-text: 572 -->(<!-- /react-text --><span data-reactid="573"><!-- react-text: 574 -->param, connection, actionTemplate<!-- /react-text --></span><!-- react-text: 575 -->)<!-- /react-text --></span><!-- react-text: 576 -->{
      <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="577"><!-- react-text: 578 -->if<!-- /react-text --></span><!-- react-text: 579 -->(param &lt; <!-- /react-text --><span style="color:#008080;" data-reactid="580"><!-- react-text: 581 -->0<!-- /react-text --></span><!-- react-text: 582 -->){ <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="583"><!-- react-text: 584 -->return<!-- /react-text --></span><!-- react-text: 585 --> <!-- /react-text --><span style="color:#d14;" data-reactid="586"><!-- react-text: 587 -->&#x27;must be &gt; 0&#x27;<!-- /react-text --></span><!-- react-text: 588 -->; }<!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="589"><!-- react-text: 590 -->else<!-- /react-text --></span><!-- react-text: 591 -->{ <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="592"><!-- react-text: 593 -->return<!-- /react-text --></span><!-- react-text: 594 --> <!-- /react-text --><span style="color:#008080;" data-reactid="595"><!-- react-text: 596 -->true<!-- /react-text --></span><!-- react-text: 597 -->; }
    },
    <!-- /react-text --><span data-reactid="598"><!-- react-text: 599 -->formatter<!-- /react-text --></span><!-- react-text: 600 -->: <!-- /react-text --><span data-reactid="601"><span style="color:#333;font-weight:bold;" data-reactid="602"><!-- react-text: 603 -->function<!-- /react-text --></span><!-- react-text: 604 -->(<!-- /react-text --><span data-reactid="605"><!-- react-text: 606 -->param, connection, actionTemplate<!-- /react-text --></span><!-- react-text: 607 -->)<!-- /react-text --></span><!-- react-text: 608 -->{
      <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="609"><!-- react-text: 610 -->return<!-- /react-text --></span><!-- react-text: 611 --> <!-- /react-text --><span style="color:#0086b3;" data-reactid="612"><!-- react-text: 613 -->parseInt<!-- /react-text --></span><!-- react-text: 614 -->(param);
    },
    <!-- /react-text --><span data-reactid="615"><!-- react-text: 616 -->default<!-- /react-text --></span><!-- react-text: 617 -->:   <!-- /react-text --><span data-reactid="618"><span style="color:#333;font-weight:bold;" data-reactid="619"><!-- react-text: 620 -->function<!-- /react-text --></span><!-- react-text: 621 -->(<!-- /react-text --><span data-reactid="622"><!-- react-text: 623 -->param, connection, actionTemplate<!-- /react-text --></span><!-- react-text: 624 -->)<!-- /react-text --></span><!-- react-text: 625 -->{
      <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="626"><!-- react-text: 627 -->return<!-- /react-text --></span><!-- react-text: 628 --> <!-- /react-text --><span style="color:#008080;" data-reactid="629"><!-- react-text: 630 -->1<!-- /react-text --></span><!-- react-text: 631 -->;
    },
  },
  <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="632"><!-- react-text: 633 -->// a schema input<!-- /react-text --></span><!-- react-text: 634 -->
  schemaInput: {
    <!-- /react-text --><span data-reactid="635"><!-- react-text: 636 -->required<!-- /react-text --></span><!-- react-text: 637 -->: <!-- /react-text --><span style="color:#008080;" data-reactid="638"><!-- react-text: 639 -->true<!-- /react-text --></span><!-- react-text: 640 -->,
    <!-- /react-text --><span data-reactid="641"><!-- react-text: 642 -->default<!-- /react-text --></span><!-- react-text: 643 -->: {},
    <!-- /react-text --><span data-reactid="644"><!-- react-text: 645 -->schema<!-- /react-text --></span><!-- react-text: 646 -->: {
      <!-- /react-text --><span data-reactid="647"><!-- react-text: 648 -->nestedInput<!-- /react-text --></span><!-- react-text: 649 -->: {
        <!-- /react-text --><span data-reactid="650"><!-- react-text: 651 -->required<!-- /react-text --></span><!-- react-text: 652 -->: <!-- /react-text --><span style="color:#008080;" data-reactid="653"><!-- react-text: 654 -->true<!-- /react-text --></span><!-- react-text: 655 -->,
        <!-- /react-text --><span data-reactid="656"><!-- react-text: 657 -->default<!-- /react-text --></span><!-- react-text: 658 -->: <!-- /react-text --><span style="color:#008080;" data-reactid="659"><!-- react-text: 660 -->1<!-- /react-text --></span><!-- react-text: 661 -->,
        <!-- /react-text --><span data-reactid="662"><!-- react-text: 663 -->validator<!-- /react-text --></span><!-- react-text: 664 -->: <!-- /react-text --><span data-reactid="665"><span style="color:#333;font-weight:bold;" data-reactid="666"><!-- react-text: 667 -->function<!-- /react-text --></span><!-- react-text: 668 -->(<!-- /react-text --><span data-reactid="669"><!-- react-text: 670 -->param, connection, actionTemplate<!-- /react-text --></span><!-- react-text: 671 -->)<!-- /react-text --></span><!-- react-text: 672 -->{
          <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="673"><!-- react-text: 674 -->if<!-- /react-text --></span><!-- react-text: 675 -->(param &lt; <!-- /react-text --><span style="color:#008080;" data-reactid="676"><!-- react-text: 677 -->0<!-- /react-text --></span><!-- react-text: 678 -->){ <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="679"><!-- react-text: 680 -->return<!-- /react-text --></span><!-- react-text: 681 --> <!-- /react-text --><span style="color:#d14;" data-reactid="682"><!-- react-text: 683 -->&#x27;must be &gt; 0&#x27;<!-- /react-text --></span><!-- react-text: 684 -->; }<!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="685"><!-- react-text: 686 -->else<!-- /react-text --></span><!-- react-text: 687 -->{ <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="688"><!-- react-text: 689 -->return<!-- /react-text --></span><!-- react-text: 690 --> <!-- /react-text --><span style="color:#008080;" data-reactid="691"><!-- react-text: 692 -->true<!-- /react-text --></span><!-- react-text: 693 -->; }
        },
        <!-- /react-text --><span data-reactid="694"><!-- react-text: 695 -->formatter<!-- /react-text --></span><!-- react-text: 696 -->: <!-- /react-text --><span data-reactid="697"><span style="color:#333;font-weight:bold;" data-reactid="698"><!-- react-text: 699 -->function<!-- /react-text --></span><!-- react-text: 700 -->(<!-- /react-text --><span data-reactid="701"><!-- react-text: 702 -->param, connection, actionTemplate<!-- /react-text --></span><!-- react-text: 703 -->)<!-- /react-text --></span><!-- react-text: 704 -->{
          <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="705"><!-- react-text: 706 -->return<!-- /react-text --></span><!-- react-text: 707 --> <!-- /react-text --><span style="color:#0086b3;" data-reactid="708"><!-- react-text: 709 -->parseInt<!-- /react-text --></span><!-- react-text: 710 -->(param);
        },
      },
      <!-- /react-text --><span data-reactid="711"><!-- react-text: 712 -->otherInput<!-- /react-text --></span><!-- react-text: 713 -->: {},
    }
  }
};
<!-- /react-text --></code></pre><p data-reactid="714">The properties of an input are:</p><ul data-reactid="715"><li data-reactid="716"><code data-reactid="717">required</code><!-- react-text: 718 --> (boolean)<!-- /react-text --><ul data-reactid="719"><li data-reactid="720"><!-- react-text: 721 -->Default: <!-- /react-text --><code data-reactid="722">false</code></li></ul></li><li data-reactid="723"><code data-reactid="724">formatter = function(param, connection, actionTemplate)</code><ul data-reactid="725"><li data-reactid="726">will return the new value of the param</li><li data-reactid="727">Default: The parameter is not reformatted</li></ul></li><li data-reactid="728"><code data-reactid="729">default = function(param, connection, actionTemplate)</code><ul data-reactid="730"><li data-reactid="731">will return the default value of the param</li><li data-reactid="732"><!-- react-text: 733 -->you can also have a static assignment for <!-- /react-text --><code data-reactid="734">default</code><!-- react-text: 735 --> father than a <!-- /react-text --><!-- react-text: 736 -->function<!-- /react-text --><!-- react-text: 737 -->, ie: <!-- /react-text --><code data-reactid="738">default: 123</code></li><li data-reactid="739">Default: Parameter has no default value</li></ul></li><li data-reactid="740"><code data-reactid="741">validator = function(param, connection, actionTemplate)</code><ul data-reactid="742"><li data-reactid="743"><!-- react-text: 744 -->should return <!-- /react-text --><code data-reactid="745">true</code><!-- react-text: 746 --> if validation passed<!-- /react-text --></li><li data-reactid="747">should return an error message if validation fails which will be returned to the client</li><li data-reactid="748">Default: Parameter is always valid</li></ul></li><li data-reactid="749"><code data-reactid="750">schema</code><!-- react-text: 751 --> (object)<!-- /react-text --><ul data-reactid="752"><li data-reactid="753">optional nested inputs definition</li><li data-reactid="754"><!-- react-text: 755 -->accept <!-- /react-text --><code data-reactid="756">object</code><!-- react-text: 757 --> similar to regular input<!-- /react-text --></li><li data-reactid="758"><!-- react-text: 759 -->nested input also have properties: <!-- /react-text --><code data-reactid="760">required</code><!-- react-text: 761 -->, <!-- /react-text --><code data-reactid="762">formatter</code><!-- react-text: 763 -->, <!-- /react-text --><code data-reactid="764">default</code><!-- react-text: 765 --> and <!-- /react-text --><code data-reactid="766">validator</code></li></ul></li></ul><p data-reactid="767"><!-- react-text: 768 -->You can define <!-- /react-text --><code data-reactid="769">api.config.general.missingParamChecks = [null, &#x27;&#x27;, undefined]</code><!-- react-text: 770 --> to choose explicitly how you want un-set params to be handled in your actions.  For example, if you want to allow explicit <!-- /react-text --><code data-reactid="771">null</code><!-- react-text: 772 --> values in a JSON payload but not <!-- /react-text --><code data-reactid="773">undefined</code><!-- react-text: 774 -->, you can now opt-in to that behavior.  This is what <!-- /react-text --><code data-reactid="775">action.inputs.x.required = true</code><!-- react-text: 776 --> will check against.<!-- /react-text --></p><p data-reactid="777"><!-- react-text: 778 -->Since all properties of an input are optional, the smallest possible definition of an input is: <!-- /react-text --><code data-reactid="779">name : </code><!-- react-text: 780 -->.  However, you should usually specify that an input is required (or not), ie: <!-- /react-text --><code data-reactid="781">name: {required: false}</code><!-- react-text: 782 -->.<!-- /react-text --></p><p data-reactid="783"><!-- react-text: 784 -->The methods <!-- /react-text --><code data-reactid="785">default</code><!-- react-text: 786 -->, <!-- /react-text --><code data-reactid="787">formatter</code><!-- react-text: 788 -->, and <!-- /react-text --><code data-reactid="789">validator</code><!-- react-text: 790 --> have the api object set as <!-- /react-text --><code data-reactid="791">this</code><!-- react-text: 792 --> within their scopes.  This means that you can define common formatters within middleware and reference them in each action.<!-- /react-text --></p><p data-reactid="793">The methods are applied in this order:</p><ul data-reactid="794"><li data-reactid="795"><code data-reactid="796">default()</code></li><li data-reactid="797"><code data-reactid="798">formatter()</code></li><li data-reactid="799"><code data-reactid="800">validator()</code></li><li data-reactid="801"><code data-reactid="802">required()</code></li></ul><p data-reactid="803">Here&#x27;s an example...</p><pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8;" data-reactid="804"><code data-reactid="805"><!-- react-text: 806 -->moneyInCents: {
  <!-- /react-text --><span data-reactid="807"><!-- react-text: 808 -->required<!-- /react-text --></span><!-- react-text: 809 -->:  <!-- /react-text --><span style="color:#008080;" data-reactid="810"><!-- react-text: 811 -->true<!-- /react-text --></span><!-- react-text: 812 -->,
  <!-- /react-text --><span data-reactid="813"><!-- react-text: 814 -->default<!-- /react-text --></span><!-- react-text: 815 -->:   <!-- /react-text --><span data-reactid="816"><span style="color:#333;font-weight:bold;" data-reactid="817"><!-- react-text: 818 -->function<!-- /react-text --></span><!-- react-text: 819 -->(<!-- /react-text --><span data-reactid="820"><!-- react-text: 821 -->p<!-- /react-text --></span><!-- react-text: 822 -->)<!-- /react-text --></span><!-- react-text: 823 -->{ <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="824"><!-- react-text: 825 -->return<!-- /react-text --></span><!-- react-text: 826 --> <!-- /react-text --><span style="color:#008080;" data-reactid="827"><!-- react-text: 828 -->0<!-- /react-text --></span><!-- react-text: 829 -->; },
  <!-- /react-text --><span data-reactid="830"><!-- react-text: 831 -->formatter<!-- /react-text --></span><!-- react-text: 832 -->: <!-- /react-text --><span data-reactid="833"><span style="color:#333;font-weight:bold;" data-reactid="834"><!-- react-text: 835 -->function<!-- /react-text --></span><!-- react-text: 836 -->(<!-- /react-text --><span data-reactid="837"><!-- react-text: 838 -->p<!-- /react-text --></span><!-- react-text: 839 -->)<!-- /react-text --></span><!-- react-text: 840 -->{ <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="841"><!-- react-text: 842 -->return<!-- /react-text --></span><!-- react-text: 843 --> <!-- /react-text --><span style="color:#0086b3;" data-reactid="844"><!-- react-text: 845 -->parseFloat<!-- /react-text --></span><!-- react-text: 846 -->(p); },
  <!-- /react-text --><span data-reactid="847"><!-- react-text: 848 -->validator<!-- /react-text --></span><!-- react-text: 849 -->: <!-- /react-text --><span data-reactid="850"><span style="color:#333;font-weight:bold;" data-reactid="851"><!-- react-text: 852 -->function<!-- /react-text --></span><!-- react-text: 853 -->(<!-- /react-text --><span data-reactid="854"><!-- react-text: 855 -->p<!-- /react-text --></span><!-- react-text: 856 -->)<!-- /react-text --></span><!-- react-text: 857 -->{
    <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="858"><!-- react-text: 859 -->if<!-- /react-text --></span><!-- react-text: 860 -->(<!-- /react-text --><span style="color:#0086b3;" data-reactid="861"><!-- react-text: 862 -->isNaN<!-- /react-text --></span><!-- react-text: 863 -->(<!-- /react-text --><span style="color:#0086b3;" data-reactid="864"><!-- react-text: 865 -->parseFloat<!-- /react-text --></span><!-- react-text: 866 -->(p)){ <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="867"><!-- react-text: 868 -->return<!-- /react-text --></span><!-- react-text: 869 --> <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="870"><!-- react-text: 871 -->new<!-- /react-text --></span><!-- react-text: 872 --> <!-- /react-text --><span style="color:#0086b3;" data-reactid="873"><!-- react-text: 874 -->Error<!-- /react-text --></span><!-- react-text: 875 -->(<!-- /react-text --><span style="color:#d14;" data-reactid="876"><!-- react-text: 877 -->&#x27;not a number&#x27;<!-- /react-text --></span><!-- react-text: 878 -->); }
    <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="879"><!-- react-text: 880 -->if<!-- /react-text --></span><!-- react-text: 881 -->(p &lt; <!-- /react-text --><span style="color:#008080;" data-reactid="882"><!-- react-text: 883 -->0<!-- /react-text --></span><!-- react-text: 884 -->){ <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="885"><!-- react-text: 886 -->return<!-- /react-text --></span><!-- react-text: 887 --> <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="888"><!-- react-text: 889 -->new<!-- /react-text --></span><!-- react-text: 890 --> <!-- /react-text --><span style="color:#0086b3;" data-reactid="891"><!-- react-text: 892 -->Error<!-- /react-text --></span><!-- react-text: 893 -->(<!-- /react-text --><span style="color:#d14;" data-reactid="894"><!-- react-text: 895 -->&#x27;money cannot be negative&#x27;<!-- /react-text --></span><!-- react-text: 896 -->); }
    <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="897"><!-- react-text: 898 -->else<!-- /react-text --></span><!-- react-text: 899 -->{ <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="900"><!-- react-text: 901 -->return<!-- /react-text --></span><!-- react-text: 902 --> <!-- /react-text --><span style="color:#008080;" data-reactid="903"><!-- react-text: 904 -->true<!-- /react-text --></span><!-- react-text: 905 -->; }
  },
}<!-- /react-text --></code></pre><p data-reactid="906">...and the results would be:</p><ul data-reactid="907"><li data-reactid="908"><!-- react-text: 909 -->If moneyInCents = <!-- /react-text --><code data-reactid="910">4</code><!-- react-text: 911 -->       =&gt; (4 =&gt; 4 =&gt; 400 =&gt; ok)<!-- /react-text --></li><li data-reactid="912"><!-- react-text: 913 -->If moneyInCents = <!-- /react-text --><code data-reactid="914">&quot;4&quot;</code><!-- react-text: 915 -->     =&gt; (&#x27;4&#x27; =&gt; 4 =&gt; 400 =&gt; ok)<!-- /react-text --></li><li data-reactid="916"><!-- react-text: 917 -->If moneyInCents = <!-- /react-text --><code data-reactid="918">&quot;-4&quot;</code><!-- react-text: 919 -->    =&gt; (&quot;-4&quot; =&gt; -4 =&gt; -400 =&gt; <!-- /react-text --><!-- react-text: 920 -->Error(‘money cannot be negative&#x27;))<!-- /react-text --></li><li data-reactid="921"><!-- react-text: 922 -->If moneyInCents = <!-- /react-text --><code data-reactid="923">&quot;&quot;</code><!-- react-text: 924 -->      =&gt; 0 (default value)<!-- /react-text --></li><li data-reactid="925"><!-- react-text: 926 -->If moneyInCents = <!-- /react-text --><code data-reactid="927">null</code><!-- react-text: 928 -->    =&gt; 0 (default value)<!-- /react-text --></li><li data-reactid="929"><!-- react-text: 930 -->If moneyInCents = <!-- /react-text --><code data-reactid="931">&quot;hello&quot;</code><!-- react-text: 932 --> =&gt; <!-- /react-text --><!-- react-text: 933 -->Error(‘not a number&#x27;)<!-- /react-text --></li></ul><p data-reactid="934">Formatters and Validators can also be named method names. For example, you might have an action like:</p><pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8;" data-reactid="935"><code data-reactid="936"><!-- react-text: 937 -->exports.cacheTest = {
  <!-- /react-text --><span data-reactid="938"><!-- react-text: 939 -->name<!-- /react-text --></span><!-- react-text: 940 -->: <!-- /react-text --><span style="color:#d14;" data-reactid="941"><!-- react-text: 942 -->&#x27;cacheTest&#x27;<!-- /react-text --></span><!-- react-text: 943 -->,
  <!-- /react-text --><span data-reactid="944"><!-- react-text: 945 -->description<!-- /react-text --></span><!-- react-text: 946 -->: <!-- /react-text --><span style="color:#d14;" data-reactid="947"><!-- react-text: 948 -->&#x27;I will test the internal cache functions of the API&#x27;<!-- /react-text --></span><!-- react-text: 949 -->,
  <!-- /react-text --><span data-reactid="950"><!-- react-text: 951 -->outputExample<!-- /react-text --></span><!-- react-text: 952 -->: {},

  <!-- /react-text --><span data-reactid="953"><!-- react-text: 954 -->inputs<!-- /react-text --></span><!-- react-text: 955 -->: {
    <!-- /react-text --><span data-reactid="956"><!-- react-text: 957 -->key<!-- /react-text --></span><!-- react-text: 958 -->: {
      <!-- /react-text --><span data-reactid="959"><!-- react-text: 960 -->required<!-- /react-text --></span><!-- react-text: 961 -->: <!-- /react-text --><span style="color:#008080;" data-reactid="962"><!-- react-text: 963 -->true<!-- /react-text --></span><!-- react-text: 964 -->,
      <!-- /react-text --><span data-reactid="965"><!-- react-text: 966 -->formatter<!-- /react-text --></span><!-- react-text: 967 -->: [
         <!-- /react-text --><span data-reactid="968"><span style="color:#333;font-weight:bold;" data-reactid="969"><!-- react-text: 970 -->function<!-- /react-text --></span><!-- react-text: 971 -->(<!-- /react-text --><span data-reactid="972"><!-- react-text: 973 -->s<!-- /react-text --></span><!-- react-text: 974 -->)<!-- /react-text --></span><!-- react-text: 975 -->{ <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="976"><!-- react-text: 977 -->return<!-- /react-text --></span><!-- react-text: 978 --> <!-- /react-text --><span style="color:#0086b3;" data-reactid="979"><!-- react-text: 980 -->String<!-- /react-text --></span><!-- react-text: 981 -->(s); },
         <!-- /react-text --><span style="color:#d14;" data-reactid="982"><!-- react-text: 983 -->&#x27;api.formatter.uniqueKeyName&#x27;<!-- /react-text --></span><!-- react-text: 984 --> <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="985"><!-- react-text: 986 -->// &lt;----------- HERE<!-- /react-text --></span><!-- react-text: 987 -->
      ]
    },
    <!-- /react-text --><span data-reactid="988"><!-- react-text: 989 -->value<!-- /react-text --></span><!-- react-text: 990 -->: {
      <!-- /react-text --><span data-reactid="991"><!-- react-text: 992 -->required<!-- /react-text --></span><!-- react-text: 993 -->: <!-- /react-text --><span style="color:#008080;" data-reactid="994"><!-- react-text: 995 -->true<!-- /react-text --></span><!-- react-text: 996 -->,
      <!-- /react-text --><span data-reactid="997"><!-- react-text: 998 -->formatter<!-- /react-text --></span><!-- react-text: 999 -->: <!-- /react-text --><span data-reactid="1000"><span style="color:#333;font-weight:bold;" data-reactid="1001"><!-- react-text: 1002 -->function<!-- /react-text --></span><!-- react-text: 1003 -->(<!-- /react-text --><span data-reactid="1004"><!-- react-text: 1005 -->s<!-- /react-text --></span><!-- react-text: 1006 -->)<!-- /react-text --></span><!-- react-text: 1007 -->{ <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="1008"><!-- react-text: 1009 -->return<!-- /react-text --></span><!-- react-text: 1010 --> <!-- /react-text --><span style="color:#0086b3;" data-reactid="1011"><!-- react-text: 1012 -->String<!-- /react-text --></span><!-- react-text: 1013 -->(s); },
      <!-- /react-text --><span data-reactid="1014"><!-- react-text: 1015 -->validator<!-- /react-text --></span><!-- react-text: 1016 -->: <!-- /react-text --><span data-reactid="1017"><span style="color:#333;font-weight:bold;" data-reactid="1018"><!-- react-text: 1019 -->function<!-- /react-text --></span><!-- react-text: 1020 -->(<!-- /react-text --><span data-reactid="1021"><!-- react-text: 1022 -->s<!-- /react-text --></span><!-- react-text: 1023 -->)<!-- /react-text --></span><!-- react-text: 1024 -->{
        <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="1025"><!-- react-text: 1026 -->if<!-- /react-text --></span><!-- react-text: 1027 -->(s.length &lt; <!-- /react-text --><span style="color:#008080;" data-reactid="1028"><!-- react-text: 1029 -->3<!-- /react-text --></span><!-- react-text: 1030 -->){ <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="1031"><!-- react-text: 1032 -->return<!-- /react-text --></span><!-- react-text: 1033 --> <!-- /react-text --><span style="color:#d14;" data-reactid="1034"><!-- react-text: 1035 -->&#x27;`value` should be at least 3 letters long&#x27;<!-- /react-text --></span><!-- react-text: 1036 -->; }
        <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="1037"><!-- react-text: 1038 -->else<!-- /react-text --></span><!-- react-text: 1039 -->{ <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="1040"><!-- react-text: 1041 -->return<!-- /react-text --></span><!-- react-text: 1042 --> <!-- /react-text --><span style="color:#008080;" data-reactid="1043"><!-- react-text: 1044 -->true<!-- /react-text --></span><!-- react-text: 1045 -->; }
      }
    },
  },

  <!-- /react-text --><span data-reactid="1046"><!-- react-text: 1047 -->run<!-- /react-text --></span><!-- react-text: 1048 -->: <!-- /react-text --><span data-reactid="1049"><span style="color:#333;font-weight:bold;" data-reactid="1050"><!-- react-text: 1051 -->function<!-- /react-text --></span><!-- react-text: 1052 -->(<!-- /react-text --><span data-reactid="1053"><!-- react-text: 1054 -->api, data, next<!-- /react-text --></span><!-- react-text: 1055 -->)<!-- /react-text --></span><!-- react-text: 1056 -->{
    <!-- /react-text --><span style="color:#998;font-style:italic;" data-reactid="1057"><!-- react-text: 1058 -->// ...<!-- /react-text --></span><!-- react-text: 1059 -->
  }
};<!-- /react-text --></code></pre><p data-reactid="1060"><!-- react-text: 1061 -->You can define <!-- /react-text --><code data-reactid="1062">api.formatter.uniqueKeyName</code><!-- react-text: 1063 --> elsewhere in your project, like this initializer:<!-- /react-text --></p><pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8;" data-reactid="1064"><code data-reactid="1065"><span style="color:#0086b3;" data-reactid="1066"><!-- react-text: 1067 -->module<!-- /react-text --></span><!-- react-text: 1068 -->.exports = {
  <!-- /react-text --><span data-reactid="1069"><!-- react-text: 1070 -->initialize<!-- /react-text --></span><!-- react-text: 1071 -->: <!-- /react-text --><span data-reactid="1072"><span style="color:#333;font-weight:bold;" data-reactid="1073"><!-- react-text: 1074 -->function<!-- /react-text --></span><!-- react-text: 1075 -->(<!-- /react-text --><span data-reactid="1076"><!-- react-text: 1077 -->api, next<!-- /react-text --></span><!-- react-text: 1078 -->)<!-- /react-text --></span><!-- react-text: 1079 -->{
    api.formatter = {
      <!-- /react-text --><span data-reactid="1080"><!-- react-text: 1081 -->uniqueKeyName<!-- /react-text --></span><!-- react-text: 1082 -->: <!-- /react-text --><span data-reactid="1083"><span style="color:#333;font-weight:bold;" data-reactid="1084"><!-- react-text: 1085 -->function<!-- /react-text --></span><!-- react-text: 1086 -->(<!-- /react-text --><span data-reactid="1087"><!-- react-text: 1088 -->key<!-- /react-text --></span><!-- react-text: 1089 -->)<!-- /react-text --></span><!-- react-text: 1090 -->{
        <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="1091"><!-- react-text: 1092 -->return<!-- /react-text --></span><!-- react-text: 1093 --> key + <!-- /react-text --><span style="color:#d14;" data-reactid="1094"><!-- react-text: 1095 -->&#x27;-&#x27;<!-- /react-text --></span><!-- react-text: 1096 --> + <!-- /react-text --><span style="color:#333;font-weight:bold;" data-reactid="1097"><!-- react-text: 1098 -->this<!-- /react-text --></span><!-- react-text: 1099 -->.connection.id;
      }
    };

    next();
  },
};<!-- /react-text --></code></pre><p data-reactid="1100">Example schema input:</p><pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8;" data-reactid="1101"><code data-reactid="1102"><!-- react-text: 1103 -->exports.addUser = {
  <!-- /react-text --><span data-reactid="1104"><!-- react-text: 1105 -->name<!-- /react-text --></span><!-- react-text: 1106 -->: <!-- /react-text --><span style="color:#d14;" data-reactid="1107"><!-- react-text: 1108 -->&#x27;api/addUser&#x27;<!-- /react-text --></span><!-- react-text: 1109 -->,
  <!-- /react-text --><span data-reactid="1110"><!-- react-text: 1111 -->description<!-- /react-text --></span><!-- react-text: 1112 -->: <!-- /react-text --><span style="color:#d14;" data-reactid="1113"><!-- react-text: 1114 -->&#x27;I add user&#x27;<!-- /react-text --></span><!-- react-text: 1115 -->,

  <!-- /react-text --><span data-reactid="1116"><!-- react-text: 1117 -->firstName<!-- /react-text --></span><!-- react-text: 1118 -->: { <!-- /react-text --><span data-reactid="1119"><!-- react-text: 1120 -->required<!-- /react-text --></span><!-- react-text: 1121 -->: <!-- /react-text --><span style="color:#008080;" data-reactid="1122"><!-- react-text: 1123 -->true<!-- /react-text --></span><!-- react-text: 1124 --> },
  <!-- /react-text --><span data-reactid="1125"><!-- react-text: 1126 -->lastName<!-- /react-text --></span><!-- react-text: 1127 -->: { <!-- /react-text --><span data-reactid="1128"><!-- react-text: 1129 -->required<!-- /react-text --></span><!-- react-text: 1130 -->: <!-- /react-text --><span style="color:#008080;" data-reactid="1131"><!-- react-text: 1132 -->false<!-- /react-text --></span><!-- react-text: 1133 --> },
  <!-- /react-text --><span data-reactid="1134"><!-- react-text: 1135 -->username<!-- /react-text --></span><!-- react-text: 1136 -->: { <!-- /react-text --><span data-reactid="1137"><!-- react-text: 1138 -->required<!-- /react-text --></span><!-- react-text: 1139 -->: <!-- /react-text --><span style="color:#008080;" data-reactid="1140"><!-- react-text: 1141 -->true<!-- /react-text --></span><!-- react-text: 1142 --> },
  <!-- /react-text --><span data-reactid="1143"><!-- react-text: 1144 -->address<!-- /react-text --></span><!-- react-text: 1145 -->: {
    <!-- /react-text --><span data-reactid="1146"><!-- react-text: 1147 -->required<!-- /react-text --></span><!-- react-text: 1148 -->: <!-- /react-text --><span style="color:#008080;" data-reactid="1149"><!-- react-text: 1150 -->false<!-- /react-text --></span><!-- react-text: 1151 -->,
    <!-- /react-text --><span data-reactid="1152"><!-- react-text: 1153 -->schema<!-- /react-text --></span><!-- react-text: 1154 -->: {
      <!-- /react-text --><span data-reactid="1155"><!-- react-text: 1156 -->country<!-- /react-text --></span><!-- react-text: 1157 -->: {
        <!-- /react-text --><span data-reactid="1158"><!-- react-text: 1159 -->required<!-- /react-text --></span><!-- react-text: 1160 -->: <!-- /react-text --><span style="color:#008080;" data-reactid="1161"><!-- react-text: 1162 -->true<!-- /react-text --></span><!-- react-text: 1163 -->,
        <!-- /react-text --><span data-reactid="1164"><!-- react-text: 1165 -->default<!-- /react-text --></span><!-- react-text: 1166 -->: <!-- /react-text --><span style="color:#d14;" data-reactid="1167"><!-- react-text: 1168 -->&#x27;USA&#x27;<!-- /react-text --></span><!-- react-text: 1169 -->
      },
      <!-- /react-text --><span data-reactid="1170"><!-- react-text: 1171 -->state<!-- /react-text --></span><!-- react-text: 1172 -->: { <!-- /react-text --><span data-reactid="1173"><!-- react-text: 1174 -->required<!-- /react-text --></span><!-- react-text: 1175 -->: <!-- /react-text --><span style="color:#008080;" data-reactid="1176"><!-- react-text: 1177 -->false<!-- /react-text --></span><!-- react-text: 1178 --> },
      <!-- /react-text --><span data-reactid="1179"><!-- react-text: 1180 -->city<!-- /react-text --></span><!-- react-text: 1181 -->: {
        <!-- /react-text --><span data-reactid="1182"><!-- react-text: 1183 -->required<!-- /react-text --></span><!-- react-text: 1184 -->: <!-- /react-text --><span style="color:#008080;" data-reactid="1185"><!-- react-text: 1186 -->true<!-- /react-text --></span><!-- react-text: 1187 -->,
        <!-- /react-text --><span data-reactid="1188"><!-- react-text: 1189 -->formatter<!-- /react-text --></span><!-- react-text: 1190 -->: <!-- /react-text --><span data-reactid="1191"><!-- react-text: 1192 -->(<!-- /react-text --><span data-reactid="1193"><!-- react-text: 1194 -->val<!-- /react-text --></span><!-- react-text: 1195 -->) =&gt;<!-- /react-text --></span><!-- react-text: 1196 --> <!-- /react-text --><span style="color:#d14;" data-reactid="1197"><!-- react-text: 1198 -->`City:<!-- /react-text --><span style="color:#333;font-weight:normal;" data-reactid="1199"><!-- react-text: 1200 -->${val}<!-- /react-text --></span><!-- react-text: 1201 -->`<!-- /react-text --></span><!-- react-text: 1202 -->,
        <!-- /react-text --><span data-reactid="1203"><!-- react-text: 1204 -->validator<!-- /react-text --></span><!-- react-text: 1205 -->: <!-- /react-text --><span data-reactid="1206"><!-- react-text: 1207 -->(<!-- /react-text --><span data-reactid="1208"><!-- react-text: 1209 -->val<!-- /react-text --></span><!-- react-text: 1210 -->) =&gt;<!-- /react-text --></span><!-- react-text: 1211 --> val.length &gt; <!-- /react-text --><span style="color:#008080;" data-reactid="1212"><!-- react-text: 1213 -->10<!-- /react-text --></span><!-- react-text: 1214 -->,
      }
    }
  }
  run: <!-- /react-text --><span data-reactid="1215"><span data-reactid="1216"><!-- react-text: 1217 -->()<!-- /react-text --></span><!-- react-text: 1218 --> =&gt;<!-- /react-text --></span><!-- react-text: 1219 --> {},
}<!-- /react-text --></code></pre></div></div></div><div data-reactid="1220"><br data-reactid="1221"/><h2 id="the-data-object" style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72;" data-reactid="1222"><span style="font-weight:300;font-size:36px;" data-reactid="1223">The Data Object</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px;" data-reactid="1224"/><div style="font-family:Open Sans, sans-serif;" data-reactid="1225"><div data-reactid="1226"><pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8;" data-reactid="1227"><code data-reactid="1228"><!-- react-text: 1229 -->data = {
  <!-- /react-text --><span data-reactid="1230"><!-- react-text: 1231 -->connection<!-- /react-text --></span><!-- react-text: 1232 -->: connection,
  <!-- /react-text --><span data-reactid="1233"><!-- react-text: 1234 -->action<!-- /react-text --></span><!-- react-text: 1235 -->: <!-- /react-text --><span style="color:#d14;" data-reactid="1236"><!-- react-text: 1237 -->&#x27;randomNumber&#x27;<!-- /react-text --></span><!-- react-text: 1238 -->,
  <!-- /react-text --><span data-reactid="1239"><!-- react-text: 1240 -->toProcess<!-- /react-text --></span><!-- react-text: 1241 -->: <!-- /react-text --><span style="color:#008080;" data-reactid="1242"><!-- react-text: 1243 -->true<!-- /react-text --></span><!-- react-text: 1244 -->,
  <!-- /react-text --><span data-reactid="1245"><!-- react-text: 1246 -->toRender<!-- /react-text --></span><!-- react-text: 1247 -->: <!-- /react-text --><span style="color:#008080;" data-reactid="1248"><!-- react-text: 1249 -->true<!-- /react-text --></span><!-- react-text: 1250 -->,
  <!-- /react-text --><span data-reactid="1251"><!-- react-text: 1252 -->messageCount<!-- /react-text --></span><!-- react-text: 1253 -->: <!-- /react-text --><span style="color:#008080;" data-reactid="1254"><!-- react-text: 1255 -->123<!-- /react-text --></span><!-- react-text: 1256 -->,
  <!-- /react-text --><span data-reactid="1257"><!-- react-text: 1258 -->params<!-- /react-text --></span><!-- react-text: 1259 -->: { <!-- /react-text --><span data-reactid="1260"><!-- react-text: 1261 -->action<!-- /react-text --></span><!-- react-text: 1262 -->: <!-- /react-text --><span style="color:#d14;" data-reactid="1263"><!-- react-text: 1264 -->&#x27;randomNumber&#x27;<!-- /react-text --></span><!-- react-text: 1265 -->, <!-- /react-text --><span data-reactid="1266"><!-- react-text: 1267 -->apiVersion<!-- /react-text --></span><!-- react-text: 1268 -->: <!-- /react-text --><span style="color:#008080;" data-reactid="1269"><!-- react-text: 1270 -->1<!-- /react-text --></span><!-- react-text: 1271 --> },
  <!-- /react-text --><span data-reactid="1272"><!-- react-text: 1273 -->actionStartTime<!-- /react-text --></span><!-- react-text: 1274 -->: <!-- /react-text --><span style="color:#008080;" data-reactid="1275"><!-- react-text: 1276 -->123<!-- /react-text --></span><!-- react-text: 1277 -->,
  <!-- /react-text --><span data-reactid="1278"><!-- react-text: 1279 -->response<!-- /react-text --></span><!-- react-text: 1280 -->: {},
}<!-- /react-text --></code></pre><p data-reactid="1281"><!-- react-text: 1282 -->The <!-- /react-text --><code data-reactid="1283">data</code><!-- react-text: 1284 --> object passed into your action captures the state of the connection at the time the action was started.  Middleware preProcessors have already fired, and input formatting and validation has occurred.  Here are the properties of the <!-- /react-text --><code data-reactid="1285">data</code><!-- react-text: 1286 --> object:<!-- /react-text --></p><p data-reactid="1287"><!-- react-text: 1288 -->The goal of most actions is to do work and then modify the value of <!-- /react-text --><code data-reactid="1289">data.response</code><!-- react-text: 1290 -->, which will eventually be sent down to the client.<!-- /react-text --></p><p data-reactid="1291"><!-- react-text: 1292 -->You can also modify properties of the connection by accessing <!-- /react-text --><code data-reactid="1293">data.connection</code><!-- react-text: 1294 -->, IE changing the response header for a HTTP request.<!-- /react-text --></p><p data-reactid="1295"><!-- react-text: 1296 -->If you don&#x27;t want your action to respond to the client, or you have already sent data to the client (perhaps you already rendered a file to them or sent an error HTTP header), you can set <!-- /react-text --><code data-reactid="1297">data.toRender = false;</code></p><p data-reactid="1298"><!-- react-text: 1299 -->If you are certain that your action is only going to be handled by a web server, then a convience function has been provided to you via <!-- /react-text --><code data-reactid="1300">data.connection.setHeader()</code><!-- react-text: 1301 -->. This function is a proxy to the <!-- /react-text --><a href="https://nodejs.org/api/http.html#http_response_setheader_name_value" data-reactid="1302">Node HTTP Response setHeader</a><!-- react-text: 1303 --> function and allows you to set response headers without having to drill into the <!-- /react-text --><code data-reactid="1304">data.connection.rawConnection</code><!-- react-text: 1305 --> object. Please be aware, the <!-- /react-text --><code data-reactid="1306">data.connection.setHeader()</code><!-- react-text: 1307 --> function will only be available if your action is being handled by a web server. Other server types will throw an exception. See <!-- /react-text --><a href="/docs/core/servers#customizing-servers" data-reactid="1308">Servers: Customizing the Connection</a><!-- react-text: 1309 --> for more details.<!-- /react-text --></p></div></div></div><div data-reactid="1310"><br data-reactid="1311"/><h2 id="middleware" style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72;" data-reactid="1312"><span style="font-weight:300;font-size:36px;" data-reactid="1313">Middleware</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px;" data-reactid="1314"/><div style="font-family:Open Sans, sans-serif;" data-reactid="1315"><div data-reactid="1316"><p data-reactid="1317"><!-- react-text: 1318 -->You can create middlware which would apply to the connection both before and after an action.  Middleware can be either global (applied to all actions) or local, specified in each action via <!-- /react-text --><code data-reactid="1319">action.middleware = []</code><!-- react-text: 1320 -->.  Supply the <!-- /react-text --><code data-reactid="1321">names</code><!-- react-text: 1322 --> of any middleware you want to use.<!-- /react-text --></p><p data-reactid="1323"><!-- react-text: 1324 -->You can <!-- /react-text --><a href="/docs/core/#middleware" data-reactid="1325">learn more about middleware here</a><!-- react-text: 1326 -->.<!-- /react-text --></p></div></div></div><div data-reactid="1327"><br data-reactid="1328"/><h2 id="notes" style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72;" data-reactid="1329"><span style="font-weight:300;font-size:36px;" data-reactid="1330">Notes</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px;" data-reactid="1331"/><div style="font-family:Open Sans, sans-serif;" data-reactid="1332"><div data-reactid="1333"><ul data-reactid="1334"><li data-reactid="1335"><!-- react-text: 1336 -->Actions are asynchronous, and require in the API object, the <!-- /react-text --><code data-reactid="1337">data</code><!-- react-text: 1338 --> object, and the callback function.  Completing an action is as simple as calling <!-- /react-text --><code data-reactid="1339">next(error)</code><!-- react-text: 1340 -->.  If you have an error, be sure that it is a <!-- /react-text --><code data-reactid="1341">new Error()</code><!-- react-text: 1342 --> object, and not a string.<!-- /react-text --></li><li data-reactid="1343"><!-- react-text: 1344 -->The metadata <!-- /react-text --><code data-reactid="1345">outputExample</code><!-- react-text: 1346 --> is used in reflexive and self-documenting actions in the API, available via the <!-- /react-text --><code data-reactid="1347">documentation</code><!-- react-text: 1348 --> verb (and /api/ showDocumenation action).<!-- /react-text --></li><li data-reactid="1349"><!-- react-text: 1350 -->You can limit how many actions a persistent client (websocket, tcp, etc) can have pending at once with <!-- /react-text --><code data-reactid="1351">api.config.general.simultaneousActions</code></li><li data-reactid="1352"><code data-reactid="1353">actions.inputs</code><!-- react-text: 1354 --> are used for both documentation and for building the whitelist of allowed parameters the API will accept.  Client params not included in these whitelists will be ignored for security. If you wish to disable the whitelisting you can use the flag at <!-- /react-text --><code data-reactid="1355">api.config.general.disableParamScrubbing</code><!-- react-text: 1356 -->. Note that <!-- /react-text --><a href="/docs/core/#middleware" data-reactid="1357">Middleware</a><!-- react-text: 1358 --> preProcessors will always have access to all params pre-scrubbing.<!-- /react-text --></li><li data-reactid="1359"><code data-reactid="1360">matchExtensionMimeType</code><!-- react-text: 1361 --> is currently only used by the <!-- /react-text --><code data-reactid="1362">web</code><!-- react-text: 1363 --> server, and it indicates that if this action is successfully called by a client with <!-- /react-text --><code data-reactid="1364">connection.extension</code><!-- react-text: 1365 --> set, the headers of the response should be changed to match that file type.  This is useful when creating actions that download files.<!-- /react-text --></li><li data-reactid="1366"><!-- react-text: 1367 -->ActionHero strives to keep the <!-- /react-text --><code data-reactid="1368">data.connection</code><!-- react-text: 1369 --> object uniform among various client types, and more importantly, present <!-- /react-text --><code data-reactid="1370">data.params</code><!-- react-text: 1371 --> in a homogeneous way.  You can inspect <!-- /react-text --><code data-reactid="1372">data.connection.type</code><!-- react-text: 1373 --> to learn more about the connection.  The gory details of the connection (which vary on its type) are stored in <!-- /react-text --><code data-reactid="1374">data.connection.rawConnection</code><!-- react-text: 1375 --> which will contain the websocket, tcp connection, etc.  For web clients, <!-- /react-text --><code data-reactid="1376">data.connection.rawConnection = {req: req, res: res}</code><!-- react-text: 1377 --> for example.<!-- /react-text --><ul data-reactid="1378"><li data-reactid="1379"><!-- react-text: 1380 -->You can learn more about some of the <!-- /react-text --><code data-reactid="1381">rawConnection</code><!-- react-text: 1382 --> options by learning how to <!-- /react-text --><a href="/docs/core/#file-server-sending-files-from-actions" data-reactid="1383">send files from actions</a><!-- react-text: 1384 -->.<!-- /react-text --></li></ul></li></ul><p data-reactid="1385"><a href="/docs/servers/web#sending-files" data-reactid="1386">You can learn more about handling HTTP verbs and file uploads here</a><!-- react-text: 1387 --> and <!-- /react-text --><a href="/docs/servers/socket" data-reactid="1388">TCP Clients</a><!-- react-text: 1389 --> and <!-- /react-text --><a href="/docs/servers/websocket" data-reactid="1390">Web-Socket Clients</a></p></div></div></div></div></div></div><div class="hidden-xs hidden-sm col-md-3" data-reactid="1391"><div style="height:0;" data-reactid="1392"><div data-reactid="1393"><div data-reactid="1394"></div><div style="padding-top:90px;" class="" data-reactid="1395"><div data-reactid="1396"><!-- react-empty: 1397 --><div class="ais-InstantSearch__root" data-reactid="1398"><form novalidate="" class="ais-SearchBox__root" action="" role="search" data-reactid="1399"><svg xmlns="http://www.w3.org/2000/svg" style="display:none;" data-reactid="1400"><symbol xmlns="http://www.w3.org/2000/svg" id="sbx-icon-search-13" viewBox="0 0 40 40" data-reactid="1401"><path d="M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z" fill-rule="evenodd" data-reactid="1402"></path></symbol><symbol xmlns="http://www.w3.org/2000/svg" id="sbx-icon-clear-3" viewBox="0 0 20 20" data-reactid="1403"><path d="M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z" fill-rule="evenodd" data-reactid="1404"></path></symbol></svg><div role="search" class="ais-SearchBox__wrapper" data-reactid="1405"><input type="search" placeholder="Search here…" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" required="" value="" class="ais-SearchBox__input" data-reactid="1406"/><button type="submit" title="Submit your search query." class="ais-SearchBox__submit" data-reactid="1407"><svg role="img" width="1em" height="1em" data-reactid="1408"><use xlink:href="#sbx-icon-search-13" data-reactid="1409"></use></svg></button><button type="reset" title="Clear the search query." class="ais-SearchBox__reset" data-reactid="1410"><svg role="img" width="1em" height="1em" data-reactid="1411"><use xlink:href="#sbx-icon-clear-3" data-reactid="1412"></use></svg></button></div></form><div class="ais-Hits__root" data-reactid="1413"></div></div><br data-reactid="1414"/></div><ul style="list-style-type:none;padding-left:0;margin-left:0;" data-reactid="1415"><li data-reactid="1416"><a href="#overview" class="text-info" style="font-weight:300;font-size:18px;line-height:1.6em;" data-reactid="1417">Overview</a></li><li data-reactid="1418"><a href="#versions" class="text-info" style="font-weight:300;font-size:18px;line-height:1.6em;" data-reactid="1419">Versions</a></li><li data-reactid="1420"><a href="#options" class="text-info" style="font-weight:300;font-size:18px;line-height:1.6em;" data-reactid="1421">Options</a></li><li data-reactid="1422"><a href="#inputs" class="text-info" style="font-weight:300;font-size:18px;line-height:1.6em;" data-reactid="1423">Inputs</a></li><li data-reactid="1424"><a href="#the-data-object" class="text-info" style="font-weight:300;font-size:18px;line-height:1.6em;" data-reactid="1425">The Data Object</a></li><li data-reactid="1426"><a href="#middleware" class="text-info" style="font-weight:300;font-size:18px;line-height:1.6em;" data-reactid="1427">Middleware</a></li><li data-reactid="1428"><a href="#notes" class="text-info" style="font-weight:300;font-size:18px;line-height:1.6em;" data-reactid="1429">Notes</a></li></ul><br data-reactid="1430"/><ul style="list-style-type:none;padding-left:0;margin-left:0;" data-reactid="1431"><div data-reactid="1432"><li data-reactid="1433"><a style="font-weight:200;color:#E14E3A;" href="/docs/core/tasks/" data-reactid="1434">» Core: Tasks</a></li></div><li data-reactid="1435"><a href="#_top" style="font-weight:200;color:#E14E3A;" data-reactid="1436">↑ Back to top</a></li></ul></div></div></div></div></div></div><div style="padding-bottom:100px;color:#2F5266;" data-reactid="1437"><div class="container" data-reactid="1438"><div class="row" data-reactid="1439"><div style="text-align:center;" class="col-md-12" data-reactid="1440"><hr style="color:#2F5266;background-color:#2F5266;border:0;height:2px;" data-reactid="1441"/><h2 style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72;" data-reactid="1442"><span style="font-weight:400;" data-reactid="1443">Up Next</span></h2><h2 style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72;" data-reactid="1444"><a href="/docs/core/tasks/" data-reactid="1445">Core: Tasks</a></h2></div></div></div></div></div><div style="padding-left:0;padding-right:0;font-family:Roboto, sans-serif;font-size:14px;font-weight:300;" class="container-fluid" data-reactid="1446"><footer id="footer-container" style="background-color:#2F5266;color:#FBF9E4;font-family:Roboto, sans-serif;font-weight:200;" data-reactid="1447"><div class="container" data-reactid="1448"><div style="padding-bottom:50px;padding-top:50px;padding-left:100px;" class="row" data-reactid="1449"><div class="col-md-12" data-reactid="1450"><img src="/static/images/actionhero-logo-header-wordmark.svg" data-reactid="1451"/></div></div><div style="padding-bottom:100px;" class="row" data-reactid="1452"><div class="col-md-4" data-reactid="1453"><div style="padding-left:100px;" data-reactid="1454"><p data-reactid="1455"><a style="color:#FBF9E4;" href="/terms/" data-reactid="1456">Terms</a></p><p data-reactid="1457"><!-- react-text: 1458 -->Contact us at <!-- /react-text --><a style="color:#FBF9E4;font-weight:500;" href="mailto:hello@actionherojs.com" data-reactid="1459">hello@actionherojs.com</a></p><p data-reactid="1460"><a target="_new" style="color:#FBF9E4;" href="https://medium.com/tag/actionherojs/" data-reactid="1461">Blogs</a></p><p data-reactid="1462"><!-- react-text: 1463 -->© 2017<!-- /react-text --><!-- react-text: 1464 --> ActionHero<!-- /react-text --></p><p data-reactid="1465"><em data-reactid="1466"><!-- react-text: 1467 -->Search by <!-- /react-text --><a href="https://www.algolia.com" target="_new" data-reactid="1468"><!-- react-text: 1469 -->Algolia <!-- /react-text --><img style="padding:5px;" width="30" src="/static/images/algolia.svg" data-reactid="1470"/></a></em></p></div></div><div class="col-md-4" data-reactid="1471"><div style="padding-left:100px;" data-reactid="1472"><p data-reactid="1473"><a style="color:#FBF9E4;" href="/get-started/" data-reactid="1474">Get Started</a></p><p data-reactid="1475"><a style="color:#FBF9E4;" href="/docs/" data-reactid="1476">Documenation</a></p><p data-reactid="1477"><a style="color:#FBF9E4;" href="/solutions/" data-reactid="1478">Solutions</a></p><p data-reactid="1479"><a style="color:#FBF9E4;" href="/community/" data-reactid="1480">Community</a></p><p data-reactid="1481"><a style="color:#FBF9E4;" href="/downloads/" data-reactid="1482">Downloads</a></p></div></div><div class="col-md-4" data-reactid="1483"><div style="padding-left:100px;" data-reactid="1484"><p data-reactid="1485"><a target="_new" style="color:#FBF9E4;" href="https://www.npmjs.com/package/actionhero/" data-reactid="1486">NPM</a></p><p data-reactid="1487"><a target="_new" style="color:#FBF9E4;" href="https://twitter.com/actionherojs/" data-reactid="1488">Twitter</a></p><p data-reactid="1489"><a target="_new" style="color:#FBF9E4;" href="https://slack.actionherojs.com/" data-reactid="1490">Slack</a></p><p data-reactid="1491"><a target="_new" style="color:#FBF9E4;" href="https://github.com/actionhero/actionhero/" data-reactid="1492">Github</a></p></div></div></div></div></footer></div></div></div></div><div id="__next-error"></div></div><div><script>
          __NEXT_DATA__ = {"props":{},"pathname":"/docs/core/actions","query":{},"buildId":"e702224b-024f-4339-82ea-8c2023a92317","buildStats":{"app.js":{"hash":"517642acd6437ad7e589c92138f402c3"}},"assetPrefix":"","nextExport":true,"err":null,"chunks":[]}
          module={}
          __NEXT_LOADED_PAGES__ = []
          __NEXT_LOADED_CHUNKS__ = []

          __NEXT_REGISTER_PAGE = function (route, fn) {
            __NEXT_LOADED_PAGES__.push({ route: route, fn: fn })
          }

          __NEXT_REGISTER_CHUNK = function (chunkName, fn) {
            __NEXT_LOADED_CHUNKS__.push({ chunkName: chunkName, fn: fn })
          }
        </script><script async="" id="__NEXT_PAGE__/docs/core/actions" type="text/javascript" src="/_next/e702224b-024f-4339-82ea-8c2023a92317/page/docs/core/actions/index.js"></script><script async="" id="__NEXT_PAGE__/_error" type="text/javascript" src="/_next/e702224b-024f-4339-82ea-8c2023a92317/page/_error/index.js"></script><div></div><script type="text/javascript" src="/_next/517642acd6437ad7e589c92138f402c3/app.js" async=""></script></div></body></html>